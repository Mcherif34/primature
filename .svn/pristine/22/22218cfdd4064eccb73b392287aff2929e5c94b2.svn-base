<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="template/layout">
<head>
	<title></title>
</head>
<body ng-controller="prospectController" th:attr="ng-init='init();'">
<div layout:fragment="search">
		<form class="form-inline" role="search">
			<input type="text" class="form-control b-a rounded px-3 form-control-sm" style="min-width: 350px;" ng-model="dto.search.key" placeholder="Rechercher prospect par code ou raison sociale" />
			<a href="#" ng-click="searchProspect()" class="btn success p-x-md" style="border-radius: 20px; padding-top: 3px; padding-bottom: 5px; margin-left: 10px; margin-right: 20px;"><i class="fa fa-search"></i></a>
		</form>
</div>
	
<div layout:fragment="content" class="page-content">
<!-- ############ PAGE START-->
<div class="p-a white lt box-shadow">
	<div class="row">
		<div class="col-sm-6">
			<h4 class="mb-0 _300">Gestion des prospects</h4>
			<small class="text-muted">Gestion des prospects</small>
		</div>
	</div>
</div>
<!-- ############ PAGE START-->
<div class="padding">
  <div class="row">
    <div class="col-md-12">
        <div class="b-b b-primary nav-active-primary">
          <ul class="nav nav-tabs">
            <li class="nav-item">
              <a class="nav-link nav-tab active" href="#" data-toggle="tab" data-target="#tab1">Tous les prospects</a>
            </li>
            <li class="nav-item">
              <a class="nav-link nav-tab" href="#" data-toggle="tab" data-target="#tab2">Mes prospects</a>
            </li>
            <li class="nav-item">
              <a class="nav-link nav-tab" href="#" data-toggle="tab" data-target="#tab3">Contacts</a>
            </li>
            <li class="nav-item">
            	<a class="nav-link nav-tab" href="#" data-toggle="tab" data-target="#tab4">Crédit risque</a>
            </li>
          </ul>
        </div>
        <div class="tab-content p-a m-b-md">
          <div class="tab-pane animated fadeIn text-muted active" id="tab1">
            <div class="box">
			    <div class="box-header">
			      <div style="float:left; margin-top: 3px;">
			        <h2 class="mb-0 _300">Liste des prospects</h2>
			        <small class="text-muted"><a style="font-size: 13px !important;" th:href="@{/}"><span class="nav-link-breadcrumb label">Tableau de bord</span></a> <span class="nav-link-breadcrumb label primary">Prospects</span></small>
			      </div>
			      <ul class="button_actions">
			      	<li><a href="#" ng-click="addProspect()" class="btn btn-fw info"><i class="fa fa-plus"></i> &nbsp;<span>Nouveau</span></a></li>
			      	<li><a href="#" ng-if="dto.id" ng-click="convertToClient()" class="btn btn-fw info" style="background-color: #0077aa"><i class="fa fa-exchange"></i> &nbsp;<span>Convertir en client</span></a></li>
			      	<li><a href="#" ng-if="dto.id" ng-click="addCollaborator()" class="btn btn-fw warn"><i class="fa fa-user"></i> &nbsp;<span>Assigner à un collaborateur</span></a></li>
			      	<li><a href="#" ng-if="dto.id" ng-click="convertToClient()" class="btn btn-fw success"><i class="fa fa-download"></i> &nbsp;<span>Télécharger</span></a></li>
			      </ul>
			    </div>
			    <div class="table-responsive">
			      <table id="prospectTable" ng-controller="prospectTableController"
						th:attr="ng-init='init();'" class="table table-striped b-t b-b">
			        <thead>
			          <tr>
			            <th>ID</th>
			            <th>Code prospect</th>
			            <th>ICE</th>
			            <th>Raison sociale</th>
			            <th>Téléphone</th>
			            <th>Email</th>
			            <th>Pays</th>
			            <th>Ville</th>
			            <th>Actions</th>
			          </tr>
			        </thead>
			      </table>
			    </div>
		    </div>
          </div>
          <div class="tab-pane animated fadeIn text-muted" id="tab2">
            <div class="box">
			    <div class="box-header">
			      <div style="float:left; margin-top: 3px;">
			        <h2 class="mb-0 _300">Mes prospects</h2>
			        <small class="text-muted"><a style="font-size: 13px !important;" th:href="@{/}"><span class="nav-link-breadcrumb label">Tableau de bord</span></a> <span class="nav-link-breadcrumb label">Prospects</span> <span class="nav-link-breadcrumb label primary">Mes prospects</span></small>
			      </div>
			      <ul class="button_actions">
			      	<li><a href="#" ng-click="addProspect()" class="btn btn-fw info"><i class="fa fa-plus"></i> &nbsp;<span>Nouveau</span></a></li>
			      	<li><a href="#" ng-if="dto.id" ng-click="convertToClient()" class="btn btn-fw info" style="background-color: #0077aa"><i class="fa fa-exchange"></i> &nbsp;<span>Convertir en client</span></a></li>
			      	<li><a href="#" ng-if="dto.id" ng-click="addCollaborator()" class="btn btn-fw warn"><i class="fa fa-user"></i> &nbsp;<span>Assigner à un collaborateur</span></a></li>
			      	<li><a href="#" ng-if="dto.id" ng-click="" class="btn btn-fw success"><i class="fa fa-download"></i> &nbsp;<span>Télécharger</span></a></li>
			      </ul>
			    </div>
			    <div class="table-responsive">
			      <table id="prospectUserTable" ng-controller="prospectUserTableController"
						th:attr="ng-init='init();'" class="table table-striped b-t b-b">
			        <thead>
			          <tr>
			            <th>ID</th>
			            <th>Code prospect</th>
			            <th>ICE</th>
			            <th>Raison sociale</th>
			            <th>Téléphone</th>
			            <th>Email</th>
			            <th>Pays</th>
			            <th>Ville</th>
			            <th>Actions</th>
			          </tr>
			        </thead>
			      </table>
			    </div>
		    </div>
          </div>
          <div class="tab-pane animated fadeIn text-muted" id="tab3">
            <div class="box">
			    <div class="box-header">
			      <div style="float:left; margin-top: 3px;">
			        <h2 class="mb-0 _300">Liste des contacts</h2>
			        <small class="text-muted"><a style="font-size: 13px !important;" th:href="@{/}"><span class="nav-link-breadcrumb label">Tableau de bord</span></a> <span class="nav-link-breadcrumb label">Prospects</span> <span class="nav-link-breadcrumb label primary">Contacts</span></small>
			      </div>
			      <ul class="button_actions">
					<li><a href="#" ng-if="dto.id" ng-click="addContact()" class="btn btn-fw info"><i class="fa fa-plus"></i> <span>Nouveau</span></a></li>
				  </ul>
			    </div>
			    <div class="table-responsive">
			      <table width="100%" id="contactTable" ng-controller="contactTableController"
						th:attr="ng-init='init();'" class="table table-striped b-t b-b">
			        <thead>
			          <tr>
			            <th>ID</th>
			            <th>Nom</th>
			            <th>Prénom</th>
			            <th>Fonction</th>
			            <th>N° Téléphone</th>
			            <th>Email</th>
			            <th>Actions</th>
			          </tr>
			        </thead>
			      </table>
			    </div>
		    </div>
          </div>
          <div class="tab-pane animated fadeIn text-muted" id="tab4">
			<div class="box">
				<div class="box-header">
					<div style="float: left; margin-top: 3px;">
						<h2 class="mb-0 _300">Encours client</h2>
						<small class="text-muted"><a style="font-size: 13px !important;" th:href="@{/}"><span class="nav-link-breadcrumb label">Tableau de bord</span></a> <span class="nav-link-breadcrumb label">Crédit risque</span> <span class="nav-link-breadcrumb label primary">Encours client</span></small>
					</div>
					<ul class="button_actions">
						<li><a href="#" ng-show="!availableOutstanding" ng-click="addOutstanding()" class="btn btn-fw info"><i class="fa fa-plus"></i> &nbsp;<span>Nouvelle demande d'encours</span></a></li>
					</ul>
				</div>
				<div class="table-responsive">
					<table width="100%" id="outstandingTable"
						ng-controller="outstandingTableController"
						th:attr="ng-init='init();'"
						class="table table-striped b-t b-b">
						<thead>
							<tr>
								<th>ID</th>
								<th>Statut</th>
								<th>Montant demandé</th>
								<th>Montant accordé</th>
								<th>Eligibilité</th>
								<th>Assureur</th>
								<th>Montant de l'agrément</th>
								<th>Actions</th>
							</tr>
						</thead>
					</table>
				</div>
			</div>
		  </div>
        </div>
    </div>
  </div>
  <!-- .modal -->
  <div id="prospectModal" class="modal fade" data-backdrop="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
      	  <h5 class="modal-title" ng-if="addProspectForm">Enregistrement d'un prospect</h5>
      	  <h5 class="modal-title" ng-if="editProspectForm">Modification du prospect N° {{dto.codeProspect}}</h5>
        </div>
        <form id="prospectForm" name="prospectForm" method="post" action="#" class="form-horizontal" ui-jp="parsley">
          <div class="modal-body p-lg">
            <div class="row">
			  <input type="hidden" ng-model="dto.id" />
			  <div ng-class="'col-md-12'">
			  	<p class="text-muted">Renseignez les champs obligatoires</p>
			  	<div ng-if="prospectRequiredError" class="alert alert-danger" role="alert">
			  	  Veuillez remplir tous les champs obligatoires !
			  	</div>
			  	<div ng-if="prospectTechnicalError" class="alert alert-danger" role="alert">
			  	  Un problème est survenu ! Merci de contacter votre administrateur.
			  	</div>
			  	<div ng-if="prospectSuccess" class="alert alert-success" role="alert">
			  	  L'opération s'est effectuée avec succès !
			  	</div>
			  </div>
			  <div ng-class="'col-md-4'">
			  	<div class="form-group">
                  <label><span class="asterik"> * </span> N° ICE</label>
                  <input type="text" class="form-control" name="iceNum" ng-model="dto.iceNum" required="required" />
                </div>
                <div class="form-group">
                  <label><span class="asterik"> * </span> Nom commercial</label>
                  <input type="text" class="form-control" name="commercialName" ng-model="dto.commercialName" required="required" />
                </div>
                <div class="form-group">
                  <label><span class="asterik"> * </span> Type</label><br/>
                  <select id="type" class="form-control select2" style="width: 100%;" name="type" ng-model="dto.typeId" ng-options="t.id as t.name for t in types"></select>
                </div>
                <div class="form-group">
                  <label><span class="asterik"> * </span> Statut</label>
                  <select id="status" class="form-control select2" style="width: 100%;" name="status" ng-model="dto.statusId" ng-options="s.id as s.name for s in statuts"></select>                    
                </div>
                <div class="form-group">
                  <label>N° Fax</label>
                  <input type="text" class="form-control" name="fax" ng-model="dto.fax" />                        
                </div>
                <div class="form-group">
                  <label><span class="asterik"> * </span> Adresse</label>
                  <input type="text" class="form-control" name="address" ng-model="dto.address" required="required" />                        
                </div>
                <div class="form-group">
					<label><span class="asterik"> * </span> Délai de paiement</label>
					<input type="text" class="form-control" name="paymentDue" ng-model="dto.paymentDue" required="required" />                        
				</div>
			  </div>
			  <div ng-class="'col-md-4'">
			    <div class="form-group">
                  <label><span class="asterik"> * </span> N° Registre de commerce</label>
                  <input type="text" class="form-control" name="rcNum" ng-model="dto.rcNum" required="required" />
                </div>
                <div class="form-group">
                  <label><span class="asterik"> * </span> Forme juridique</label>
                  <select id="legalForm" class="form-control select2" style="width: 100%;" name="legalForm" ng-model="dto.legalFormId" ng-options="l.id as l.name for l in legalForms"></select>                    
                </div>
                <div class="form-group">
                  <label>Identifiant fiscal</label>
                  <input type="text" class="form-control" name="taxNum" ng-model="dto.taxNum" />
                </div>
                <div class="form-group">
                  <label><span class="asterik"> * </span> N° Téléphone 1</label>
                  <input type="text" class="form-control" name="phone1" ng-model="dto.phone1" required="required" />
                </div>
                <div class="form-group">
                  <label><span class="asterik"> * </span> Email</label>
                  <input type="text" class="form-control" name="mail" ng-model="dto.mail" required="required" />
                </div>
                <div class="form-group">
                  <label><span class="asterik"> * </span> Pays</label>
                  <select id="country" class="form-control select2" style="width: 100%;" name="country" ng-model="dto.countryId" ng-options="c.id as c.name for c in countries" 
                  		  onchange="loadCities(this.value)"></select>                    
                </div>
                <div class="form-group">
					<label><span class="asterik"> * </span> Méthode de paiement</label>
					<select id="paymentMethod" class="form-control" name="paymentMethod" ng-model="dto.paymentMethodId" ng-options="p.id as (p.name + ' (' + p.code + ')') for p in paymentMethods">
						<option value="">Choisir une option</option>
					</select>
				</div>
			  </div>
			  <div ng-class="'col-md-4'">
			  	<div class="form-group">
                  <label><span class="asterik"> * </span> Raison sociale</label>
                  <input type="text" class="form-control" name="companyName" ng-model="dto.companyName" required="required" />                        
                </div>
			    <div class="form-group">
                  <label><span class="asterik"> * </span> Gouvernance</label>
                  <select id="governance" class="form-control select2" style="width: 100%;" name="governance" ng-model="dto.governanceId" ng-options="g.id as g.name for g in governances"></select>                    
                </div>
                <div class="form-group">
                  <label>N° Patente</label>
                  <input type="text" class="form-control" name="patentNum" ng-model="dto.patentNum" />
                </div>
                <div class="form-group">
                  <label>N° Téléphone 2</label>
                  <input type="text" class="form-control" name="phone2" ng-model="dto.phone2" />
                </div>
                <div class="form-group">
                  <label>Code postal</label>
                  <input type="text" class="form-control" name="zipcode" ng-model="dto.zipcode" />
                </div>
                <div class="form-group">
                  <label><span class="asterik"> * </span> Ville</label>
                  <select id="city" class="form-control select2" style="width: 100%;" name="city" ng-model="dto.cityId" ng-options="c.id as c.name for c in cities"></select>                    
                </div>
                <div class="form-group">
					<label><span class="asterik"> * </span> Devise</label>
					<select id="currency" class="form-control" name="currency" ng-model="dto.currencyId" ng-options="c.id as (c.name + ' (' + c.code + ')') for c in currencies">
						<option value="">Choisir une option</option>
					</select>
				</div>
			  </div>
			</div>
          </div>
          <div class="modal-footer">
            <a href="#" class="btn warn p-x-md" data-dismiss="modal">Annuler</a>
            <a href="#" ng-click="saveProspect()" class="btn info p-x-md">Enregistrer</a>
          </div>
        </form>
      </div><!-- /.modal-content -->
    </div>
  </div>
  <div id="contactModal" class="modal fade" data-backdrop="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
      	  <h5 class="modal-title" ng-if="addContactForm">Enregistrement d'un contact</h5>
      	  <h5 class="modal-title" ng-if="editContactForm">Modification d'un contact</h5>
        </div>
        <form id="contactForm" name="contactForm" method="post" action="#" class="form-horizontal" ui-jp="parsley">
          <div class="modal-body p-lg">
            <div class="row">
			  <div ng-class="'col-md-12'">
			  	<p class="text-muted">Renseignez les champs obligatoires</p>
			  	<div ng-if="contactRequiredError" class="alert alert-danger" role="alert">
			  	  Veuillez remplir tous les champs obligatoires !
			  	</div>
			  	<div ng-if="contactTechnicalError" class="alert alert-danger" role="alert">
			  	  Un problème est survenu ! Merci de contacter votre administrateur.
			  	</div>
			  	<div ng-if="contactSuccess" class="alert alert-success" role="alert">
			  	  L'opération s'est effectuée avec succès !
			  	</div>
			  </div>
			  <div ng-class="'col-md-6'">
            	<div class="form-group">
                  <label><span class="asterik"> * </span> Nom</label>
                  <input type="text" class="form-control" name="lastname" ng-model="dto.contact.lastname" required="required" />                    
                </div>
                <div class="form-group">
                  <label><span class="asterik"> * </span> Prénom</label>
                  <input type="text" class="form-control" name="firstname" ng-model="dto.contact.firstname" required="required" />                        
                </div>
                <div class="form-group">
                  <label><span class="asterik"> * </span> Fonction</label>
                  <input type="text" class="form-control" name="title" ng-model="dto.contact.title" required="required" />
                </div>
			  </div>
			  <div ng-class="'col-md-6'">
			    <div class="form-group">
                  <label><span class="asterik"> * </span> N° Téléphone</label>
                  <input type="text" class="form-control" name="phone" ng-model="dto.contact.phone" required="required" />
                </div>
                <div class="form-group">
                  <label>Email</label>
                  <input type="text" class="form-control" name="mail" ng-model="dto.contact.mail" />                        
                </div>
			  </div>
			</div>
          </div>
          <div class="modal-footer">
            <a href="#" class="btn warn p-x-md" data-dismiss="modal">Annuler</a>
            <a href="#" ng-click="saveContact()" class="btn info p-x-md">Enregistrer</a>
          </div>
        </form>
      </div><!-- /.modal-content -->
    </div>
  </div>
  <div id="collaboratorModal" class="modal fade" data-backdrop="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
      	  <h5 class="modal-title">Assignation à un collaborateur</h5>
        </div>
        <form id="collaboratorForm" name="collaboratorForm" method="post" action="#" class="form-horizontal" ui-jp="parsley">
          <div class="modal-body p-lg">
            <div class="row">
			  <div ng-class="'col-md-12'">
			  	<p class="text-muted">Renseignez les champs obligatoires</p>
			  	<div ng-if="collaboratorRequiredError" class="alert alert-danger" role="alert">
			  	  Veuillez remplir tous les champs obligatoires !
			  	</div>
			  	<div ng-if="collaboratorTechnicalError" class="alert alert-danger" role="alert">
			  	  Un problème est survenu ! Merci de contacter votre administrateur.
			  	</div>
			  	<div ng-if="collaboratorSuccess" class="alert alert-success" role="alert">
			  	  L'opération s'est effectuée avec succès !
			  	</div>
			  </div>
			  <div ng-class="'col-md-12'">
            	<div class="form-group">
                  <label><span class="asterik"> * </span> Nom du collaborateur</label>
                  <select id="collaborator" class="form-control select2" style="width: 100%;" name="secUtilisateur" ng-model="dto.clientSecUtilisateur.secUtilisateurId" ng-options="u.id as (u.prenom + ' ' + u.nom + ' (' + u.fonction + ')') for u in users"></select>
                </div>
			  </div>
			</div>
          </div>
          <div class="modal-footer">
            <a href="#" class="btn warn p-x-md" data-dismiss="modal">Annuler</a>
            <a href="#" ng-click="saveCollaborator()" class="btn info p-x-md">Enregistrer</a>
          </div>
        </form>
      </div><!-- /.modal-content -->
    </div>
  </div>
  <div id="outstandingModal" class="modal fade" data-backdrop="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" ng-if="addOutstandingForm">Enregistrement
								d'une demande d'encours</h5>
							<h5 class="modal-title" ng-if="editOutstandingForm">Modification
								d'une demande d'encours</h5>
						</div>
						<form id="outstandingForm" name="outstandingForm" method="post"
							action="#" class="form-horizontal" ui-jp="parsley">
							<div class="modal-body p-lg">
								<div class="row">
									<div ng-class="'col-md-12'">
										<p class="text-muted">Renseignez les champs obligatoires</p>
										<div ng-if="outstandingRequiredError"
											class="alert alert-danger" role="alert">Veuillez
											remplir tous les champs obligatoires !</div>
										<div ng-if="outstandingTechnicalError"
											class="alert alert-danger" role="alert">Un problème est
											survenu ! Merci de contacter votre administrateur.</div>
										<div ng-if="outstandingSuccess" class="alert alert-success"
											role="alert">L'opération s'est effectuée avec succès !
										</div>
									</div>
									<div ng-class="'col-md-12'">
										<div class="form-group">
											<label><span class="asterik"> * </span> Montant demandé</label> <input
												type="text" class="form-control" name="requestedAmount"
												ng-model="dto.outstanding.requestedAmount" required="required" />
										</div>
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<a href="#" class="btn warn p-x-md" data-dismiss="modal">Annuler</a>
								<a href="#" ng-click="saveOutstanding()"
									class="btn info p-x-md">Enregistrer</a>
							</div>
						</form>
					</div>
					<!-- /.modal-content -->
				</div>
			</div>
			<div id="valOutstandingModal" class="modal fade" data-backdrop="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Validation
								d'une demande d'encours</h5>
						</div>
						<form id="valOutstandingForm" name="valOutstandingForm" method="post"
							action="#" class="form-horizontal" ui-jp="parsley">
							<div class="modal-body p-lg">
								<div class="row">
									<div ng-class="'col-md-12'">
										<p class="text-muted">Renseignez les champs obligatoires</p>
										<div ng-if="outstandingRequiredError"
											class="alert alert-danger" role="alert">Veuillez
											remplir tous les champs obligatoires !</div>
										<div ng-if="outstandingTechnicalError"
											class="alert alert-danger" role="alert">Un problème est
											survenu ! Merci de contacter votre administrateur.</div>
										<div ng-if="outstandingSuccess" class="alert alert-success"
											role="alert">L'opération s'est effectuée avec succès !
										</div>
									</div>
									<div ng-class="'col-md-12'">
										<div class="form-group">
											<label><span class="asterik"> * </span> Montant demandé</label> <input
												type="text" class="form-control" name="requestedAmount"
												ng-model="dto.outstanding.requestedAmount" required="required" ng-disabled="true" />
										</div>
									</div>
									<div ng-class="'col-md-12'">
										<div class="form-group">
											<label>Montant accordé</label> <input id="validatedAmount"
												type="text" class="form-control" name="validatedAmount"
												ng-model="dto.outstanding.validatedAmount" />
										</div>
									</div>
									<div ng-class="'col-md-12'">
										<div style="font-weight: normal; background: #ffe9b9; padding: 10px; margin-bottom: 10px;">Assurance crédit</div>
									</div>
									<div ng-class="'col-md-6'">
										<div class="form-group">
											<label>Eligibilité</label>
											<select id="eligibility" class="form-control" name="eligibility" ng-model="dto.creditInsurance.eligibility"
													ng-options="i.id as i.name for i in items" ng-change="setEligibility()">
											</select>
										</div>
									</div>
									<div ng-class="'col-md-6'">
										<div class="form-group">
											<label>Assureur</label>
											<select id="insurance" class="form-control" name="insurance" ng-model="dto.creditInsurance.insuranceId" ng-options="i.id as i.name for i in insurances" ng-disabled="creditInsuranceDisabled">
												<option value="">Choisir une option</option>
											</select>
										</div>
									</div>
									<div ng-class="'col-md-6'">
										<div class="form-group">
											<label>Montant de l'agrément</label>
											<input id="creditInsuranceAmount"
												type="text" class="form-control" name="amount"
												ng-model="dto.creditInsurance.amount" ng-disabled="creditInsuranceDisabled" ng-blur="calculateCoverRate(dto.creditInsurance.amount)" />
										</div>
									</div>
									<div ng-class="'col-md-6'">
										<div class="form-group">
											<label>Taux de couverture (en %)</label>
											<input id="coverRate"
												type="text" class="form-control" name="coverRate"
												ng-model="dto.creditInsurance.coverRate" ng-disabled="creditInsuranceDisabled" />
										</div>
									</div>
									<div ng-class="'col-md-12'">
										<div style="font-weight: normal; background: #ffe9b9; padding: 10px; margin-bottom: 10px;">
										Garanties
										<a href="#" ng-click="addOutstandingWarranty()"
												class="btn btn-fw" style="float: right; min-width: 0.4rem; padding-left: 9px; padding-right: 9px; padding-top: 3px; padding-bottom: 3px; margin-top: -3px; background: #00b1ff; color: #ffffff"><i class="fa fa-plus"></i></a>
										</div>
									</div>
									<div ng-class="'col-md-12'">
									<div class="row" ng-repeat="wty in dto.outstanding.outstandingWarrantiesDTO">
									<div ng-class="'col-md-6'">
										<div class="form-group">
											<label>Autres garanties</label>
											<select class="form-control" name="warranty" ng-model="wty.warrantyId"
													ng-options="w.id as w.name for w in warranties">
											</select>
										</div>
									</div>
									<div ng-class="'col-md-6'">
										<div class="form-group">
											<label>Montant</label> <input
												type="text" class="form-control" name="amount"
												ng-model="wty.amount" />
										</div>
									</div>
									</div>
									</div>
									<div ng-class="'col-md-12'">
										<div class="form-group">
											<label class="md-check">
									            <input type="checkbox" ng-model="hidden" /><i class="primary"></i> Accorder l'encours sous réserve
									        </label>
										</div>
									</div>
									<div ng-class="'col-md-12'" ng-if="hidden">
										<div class="form-group">
											<textarea class="form-control" name="reason" ng-model="dto.outstanding.reason" placeholder="Renseigner le motif"></textarea>
										</div>
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<a href="#" class="btn warn p-x-md" data-dismiss="modal">Annuler</a>
								<a href="#" ng-click="rejectOutstanding()"
									class="btn danger p-x-md">Rejeter</a>
								<a href="#" ng-click="validateOutstanding()" class="btn success p-x-md">Accorder</a>
							</div>
						</form>
					</div>
					<!-- /.modal-content -->
				</div>
			</div>
  <!-- / .modal -->
  </div>
  <div id="switcher">
	    <div class="switcher box-color dark-white text-color" id="sw-theme">
	      <a href="#" ui-toggle-class="active" target="#sw-theme" class="box-color dark-white text-color sw-btn">
	        <i class="fa fa-sliders"></i>
	      </a>
	      <div class="box-header">
	        <h2>Recherche avancée</h2>
	      </div>
	      <div class="box-divider"></div>
	      <div class="box-body">
	      	<form method="post" action="#" class="form-horizontal" ui-jp="parsley">
				<div class="row">
					<div ng-class="'col-md-12'">
						<div style="font-weight: normal; background: #ffe9b9; padding: 6px; margin-bottom: 6px;">Prospects</div>
					</div>
					<div ng-class="'col-md-6'">
						<div class="form-group">
					    	<label>Code prospect</label>
					        <input type="text" class="form-control" name="code" ng-model="dto.search.code" />
					    </div>
					</div>
					<div ng-class="'col-md-6'">
						<div class="form-group">
					    	<label>Raison sociale</label>
					        <select class="form-control" name="id" ng-model="dto.search.id" ng-options="p.id as p.companyName for p in prospects">
					        	<option value="">Choisir une option</option>
					        </select>
					    </div>
					</div>
					<div ng-class="'col-md-6'">
						<div class="form-group">
					    	<label>Forrme juridique</label>
					        <select class="form-control" name="legalFormId" ng-model="dto.search.legalFormId" ng-options="l.id as l.name for l in legalForms">
					        	<option value="">Choisir une option</option>
					        </select>
					    </div>
					</div>
					<div ng-class="'col-md-6'">
						<div class="form-group">
					    	<label>Gouvernance</label>
					        <select class="form-control" name="governanceId" ng-model="dto.search.governanceId" ng-options="g.id as g.name for g in governances">
					        	<option value="">Choisir une option</option>
					        </select>
					    </div>
					</div>
					<div ng-class="'col-md-6'">
						<div class="form-group">
					    	<label>Type</label>
					        <select class="form-control" name="typeId" ng-model="dto.search.typeId" ng-options="t.id as t.name for t in types">
					        	<option value="">Choisir une option</option>
					        </select>
					    </div>
					</div>
					<div ng-class="'col-md-6'">
						<div class="form-group">
					    	<label>Ville</label>
					        <select class="form-control" name="cityId" ng-model="dto.search.cityId" ng-options="c.id as c.name for c in cities">
					        	<option value="">Choisir une option</option>
					        </select>
					    </div>
					</div>
				</div>
				<div class="row">
					<div ng-class="'col-md-12'">
						<a href="#" ng-click="advancedSearchProspect()" class="btn success p-x-md">Rechercher</a>
						<input type="reset" class="btn warn p-x-md" value="Annuler" />
					</div>
				</div>
			</form>
	      </div>
	    </div>
	  </div>
</div>
<div layout:fragment="plugins" class="page-content">
	<script th:src='@{/resources/js/prospect/prospect.js}'></script>
</div>
</body>
</html>