<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="template/layout">
<head>
	<title></title>
</head>
<body ng-controller="clientCategoryController" th:attr="ng-init='init();'">
	<div layout:fragment="search">
		<form class="form-inline" role="search">
			<input type="text"
				class="form-control b-a rounded px-3 form-control-sm"
				style="min-width: 350px;" ng-model="dto.search.key"
				placeholder="Rechercher client par code ou raison sociale" /> <a
				href="#" ng-click="searchClient()" class="btn success p-x-md"
				style="border-radius: 20px; padding-top: 3px; padding-bottom: 5px; margin-left: 10px; margin-right: 20px;"><i
				class="fa fa-search"></i></a>
		</form>
	</div>
	<div layout:fragment="content">
		<div class="main-content">	
			<div class="page-content">
				<div class="container-fluid">
					<div class="row">
		            	<div class="col-12">
		                	<div class="page-title-box d-sm-flex align-items-center justify-content-between">
		                    	<h4 class="mb-sm-0">Profils payeurs</h4>
		                    	<div class="page-title-right">
		                        	<ol class="breadcrumb m-0">
		                            	<li class="breadcrumb-item font-weight-bold"><a th:href="@{/}">Tableau de bord</a></li>
		                                <li class="breadcrumb-item active">Profils payeurs</li>
		                            </ol>
		                        </div>
							</div>
		                </div>
		        	</div>
		        	<div class="col-xxl-12">
		                            <div class="card">
		                                <div class="card-body">
		                                    <ul class="nav nav-tabs nav-justified mb-3" role="tablist">
		                                        <li class="nav-item">
		                                            <a class="nav-link active" data-bs-toggle="tab" href="#portofolioTab" role="tab" aria-selected="false" style="font-weight: 600;">
		                                                <i class="mdi mdi-view-grid-outline"></i> Profils payeurs
		                                            </a>
		                                        </li>
		                                        <li class="nav-item">
		                                            <a class="nav-link" data-bs-toggle="tab" href="#clientTab" role="tab" aria-selected="false" style="font-weight: 600;">
		                                                <i class="mdi mdi-account-circle-outline"></i> Clients
		                                            </a>
		                                        </li>
		                                    </ul>
		                                    <!-- Tab panes -->
		                                    <div class="tab-content text-muted">
		                                        <div class="tab-pane active" id="portofolioTab" role="tabpanel">
		                                        	<div style="text-align: right; margin-bottom: 10px;">
		                                        		<div style="float: left;" class="btn-group btn-group-sm mt-2 shadow" role="group" aria-label="Basic example">
		                                                    <button type="button" ng-click="checkAll('clientCategoryId');" class="btn btn-primary waves-effect waves-light shadow-none"><i class="mdi mdi-checkbox-marked-circle label-icon align-middle fs-12"></i> Tout cocher</button>
		                                                    <button type="button" ng-click="uncheckAll('clientCategoryId');" class="btn btn-primary waves-effect waves-light shadow-none"><i class="mdi mdi-checkbox-blank-circle-outline label-icon align-middle fs-12"></i> Tout décocher</button>
		                                                </div>
			                                        	<a href="#" ng-show="checked" ng-click="deleteClientCategories()" class="btn btn-danger btn-label waves-effect waves-light"><i class="mdi mdi-trash-can label-icon align-middle fs-16 me-2"></i> Supprimer</a>
			                                        	<a href="#" ng-click="addClientCategory()" class="btn btn-primary btn-label waves-effect waves-light"><i class="mdi mdi-plus label-icon align-middle fs-16 me-2"></i> Nouveau</a>
			                                        	<a href="#" ng-click="" class="btn btn-primary" style="padding-top: 6px; padding-bottom: 6px;"><i class="mdi mdi-tune label-icon align-middle fs-16"></i></a>
			                                        </div>
		                                        	<div class="live-preview">
			                                            <div class="table-responsive">
															<table id="clientCategoryTable" ng-controller="clientCategoryTableController"
																	th:attr="ng-init='init();'" class="table dt-responsive nowrap table-striped align-middle" width="100%">
														        <thead>
														          <tr>
														            <th></th>
														            <th style="width: 5px"></th>
														            <th>Flag</th>
														            <th>Nom</th>
														            <th>Description</th>
														            <th>Nombre de clients</th>
														            <th>Actions</th>
														          </tr>
														        </thead>
														      </table>
														</div>
													</div>
		                                        </div>
		                                        <div class="tab-pane" id="clientTab" role="tabpanel">
		                                        	<div style="text-align: right; margin-bottom: 10px;">
		                                        		<div style="float: left;" class="btn-group btn-group-sm mt-2 shadow" role="group" aria-label="Basic example">
		                                                    <button type="button" ng-click="checkAll('catClientId');" class="btn btn-primary waves-effect waves-light shadow-none"><i class="mdi mdi-checkbox-marked-circle label-icon align-middle fs-12"></i> Tout cocher</button>
		                                                    <button type="button" ng-click="uncheckAll('catClientId');" class="btn btn-primary waves-effect waves-light shadow-none"><i class="mdi mdi-checkbox-blank-circle-outline label-icon align-middle fs-12"></i> Tout décocher</button>
		                                                </div>
		                                        		<a href="#" ng-click="removeClient('catClientId')" class="btn btn-danger btn-label waves-effect waves-light"><i class="mdi mdi-tray-remove label-icon align-middle fs-16 me-2"></i> Supprimer du portefeuille</a>
			                                        </div>
			                                        <div class="live-preview">
			                                            <div class="table-responsive">
															<table id="clientTable" ng-controller="clientTableController"
																th:attr="ng-init='init();'"
																class="table dt-responsive nowrap table-striped align-middle">
																<thead>
																	<tr>
																		<th></th>
																		<th style="width: 5px"></th>
																		<th>Code</th>
																		<th style="width: 20%">Raison sociale</th>
																		<th>Groupe</th>
																		<th>Ville</th>
																		<th>Identifiant légal</th>
																		<th>Mode de règlement</th>
																		<th>Actions</th>
																	</tr>
																</thead>
															</table>
														</div>
													</div>  
		                                        </div>
		                                    </div>
		                                </div><!-- end card-body -->
		                            </div><!-- end card -->
		                        </div>
		        </div>
		    </div>
		</div>
		<div id="clientCategoryModal" class="modal fade" data-backdrop="true">
		    <div class="modal-dialog">
		      <div class="modal-content">
		        <div class="modal-header">
		      	  <h5 class="modal-title" ng-if="addClientCategoryForm">Enregistrement d'un profil payeur</h5>
		      	  <h5 class="modal-title" ng-if="editClientCategoryForm">Modification d'un profil payeur</h5>
		      	  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
		        </div>
		        <form id="clientCategoryForm" name="clientCategoryForm" method="post" action="#" class="form-horizontal" ui-jp="parsley">
		          <div class="modal-body p-lg">
		            <div class="row">
					  <input type="hidden" ng-model="dto.id" />
					  <div ng-class="'col-md-12'">
					  	<p class="text-muted">Renseignez les champs obligatoires</p>
					  	<div ng-if="clientCategoryRequiredError" class="alert alert-danger" role="alert">
					  	  Veuillez remplir tous les champs obligatoires !
					  	</div>
					  	<div ng-if="clientCategoryTechnicalError" class="alert alert-danger" role="alert">
					  	  Un problème est survenu ! Merci de contacter votre administrateur.
					  	</div>
					  	<div ng-if="clientCategorySuccess" class="alert alert-success" role="alert">
					  	  L'opération s'est effectuée avec succès !
					  	</div>
					  </div>
					  <div ng-class="'col-md-12'">
		            	<div class="form-group">
		              	  <label><span class="asterik"> * </span> Nom</label>
		                  <input type="text" class="form-control" name="name" ng-model="dto.name" required="required" />                        
		                </div>
		              </div>
		              <div ng-class="'col-md-12'">
		                <label><span class="asterik"> * </span> Retard moyen de paiement (en jours)</label>
		              </div>
		              <div ng-class="'col-md-3'">
		                <div class="form-group">
		              	  <select class="form-select" name="operatorBefore" ng-model="dto.operatorBefore"
						  		ng-options="o.id as o.name for o in operators" required="required">
						  </select>
		                </div>
		              </div>
		              <div ng-class="'col-md-3'">
		                <div class="form-group">
		              	  <input type="text" class="form-control" name="rmpBefore" ng-model="dto.rmpBefore" required="required" />
		                </div>
		              </div>
		              <div ng-class="'col-md-3'">
		                <div class="form-group">
		              	  <select class="form-select" name="operatorAfter" ng-model="dto.operatorAfter"
						  		ng-options="o.id as o.name for o in operators">
						  </select>
		                </div>
		              </div>
		              <div ng-class="'col-md-3'">
		                <div class="form-group">
		              	  <input type="text" class="form-control" name="rmpAfter" ng-model="dto.rmpAfter" />
		                </div>
		              </div>
		              <div ng-class="'col-md-12'" style="margin-top: 10px">
		            	<div class="form-group">
		              	  <label><span class="asterik"> * </span> Couleur</label>
		                  <input type="color" class="form-control form-control-color w-100" id="colorPicker" name="color" ng-model="dto.color" required="required" />
		                </div>
		              </div>
		              <div ng-class="'col-md-12'">
		                <div class="form-group">
		                  <label>Description</label>
		                  <textarea class="form-control" name="description" ng-model="dto.description"></textarea>
		                </div>
					  </div>
					</div>
		          </div>
		          <div class="modal-footer">
					<a href="#" class="btn btn-success btn-label waves-effect waves-light" ng-click="saveClientCategory()">
			        	<i class="mdi mdi-content-save label-icon align-middle fs-16 me-2"></i> Enregistrer
			        </a>
				  </div>
		        </form>
		      </div><!-- /.modal-content -->
		    </div>
		  </div>
  <div id="clientModal" class="modal fade" data-backdrop="true">
		    <div class="modal-dialog modal-lg modal-customized">
		      <div class="modal-content">
		        <div class="modal-header">
		      	  <h5 class="modal-title">Liste des clients sans profil</h5>
		      	  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
		        </div>
		        <form id="clientForm" name="clientForm" method="post" action="#" class="form-horizontal" ui-jp="parsley">
		          <div class="modal-body modal-lg modal-customized">
		          	<div style="margin-bottom: 14px;">
		          		<div class="btn-group btn-group-sm mt-2 shadow" role="group" aria-label="Basic example">
		                	<button type="button" ng-click="checkAll('clientId');" class="btn btn-primary waves-effect waves-light shadow-none"><i class="mdi mdi-checkbox-marked-circle label-icon align-middle fs-12"></i> Tout cocher</button>
		                    <button type="button" ng-click="uncheckAll('clientId');" class="btn btn-primary waves-effect waves-light shadow-none"><i class="mdi mdi-checkbox-blank-circle-outline label-icon align-middle fs-12"></i> Tout décocher</button>
		                </div>
		            </div>
		          	<div class="table-responsive">
						<table width="100%" id="clientWithoutCategoryTable"
						   	   ng-controller="clientWithoutCategoryTableController"
							   th:attr="ng-init='init();'" class="table table-striped b-t b-b">
							<thead>
								<tr>
									<th></th>
									<th style="width: 5px"></th>
									<th>Code</th>
									<th>Raison sociale</th>
									<th>Groupe</th>
									<th>Ville</th>
								</tr>
							</thead>
						</table>
					</div>
		          </div>
		          <div class="modal-footer">
		          	<a href="#" class="btn btn-success btn-label waves-effect waves-light" ng-click="saveClient('clientId')">
			        	<i class="mdi mdi-content-save label-icon align-middle fs-16 me-2"></i> Enregistrer
			        </a>
		          </div>
		        </form>
		      </div><!-- /.modal-content -->
		    </div>
		  </div>
		  <div id="clientDetailModal" class="modal fade" data-backdrop="true">
				<div class="modal-dialog modal-xl">
					<div class="modal-content">
						<div class="modal-header">
							<span class="badge text-bg-info" style="position: absolute; background: {{dto.clientDetail.clientCategoryColor}} !important">{{dto.clientDetail.clientCategoryName}}</span>
							<div style="width: 100%; text-align: center">
								<span style="font-size: 20px; font-weight: 700">{{dto.clientDetail.companyName}}</span>
							</div>
						</div>
						<div class="modal-body p-lg">
							<div class="row">
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										Identifiant légal
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										<span class="modal-item">{{dto.clientDetail.iceNum}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										N° Registre de commerce
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										<span class="modal-item">{{dto.clientDetail.rcNum}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										Raison sociale
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										<span class="modal-item">{{dto.clientDetail.companyName}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										Nom commercial
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										<span class="modal-item">{{dto.clientDetail.commercialName}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										Forme juridique
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										<span class="modal-item">{{dto.clientDetail.legalFormName}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										Type
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										<span class="modal-item">{{dto.clientDetail.typeName}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										Identifiant fiscal
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										<span class="modal-item">{{dto.clientDetail.taxNum}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										N° Patente
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										<span class="modal-item">{{dto.clientDetail.patentNum}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										Statut
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										<span class="modal-item">{{dto.clientDetail.statusName}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										N° Téléphone 1
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										<span class="modal-item"><a href="#">{{dto.clientDetail.phone1}}</a></span>
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										N° Téléphone 2
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										<span class="modal-item"><a href="#">{{dto.clientDetail.phone2}}</a></span>
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										N° Fax
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										<span class="modal-item">{{dto.clientDetail.fax}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										Email
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										<span class="modal-item"><a href="#">{{dto.clientDetail.mail}}</a></span>
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										Code postal
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										<span class="modal-item">{{dto.clientDetail.zipcode}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										Adresse
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										<span class="modal-item"><a href="#">{{dto.clientDetail.address}}</a></span>
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										Pays
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										<span class="modal-item">{{dto.clientDetail.countryName}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										Ville
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										<span class="modal-item">{{dto.clientDetail.cityDesignation}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										Délai de paiement
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										<span class="modal-item">{{dto.clientDetail.paymentDue}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										Méthode de paiement
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										<span class="modal-item">{{dto.clientDetail.paymentMethodName}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										Devise
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 30px;">
									<div class="form-group">
										<span class="modal-item">{{dto.clientDetail.currencyName}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										Pénalités de retard
									</div>
								</div>
								<div ng-class="'col-md-2'" style="padding-bottom: 10px;">
									<div class="form-group">
										<span class="modal-item">{{dto.clientDetail.latePenalty}}</span>
									</div>
								</div>
								<div ng-class="'col-md-12'">
									<ul class="nav nav-tabs nav-justified mb-3" role="tablist">
		                                        <li class="nav-item">
		                                            <a class="nav-link active" data-bs-toggle="tab" href="#creditClientTab" role="tab" aria-selected="false" style="font-weight: 600;">
		                                                <i class="mdi mdi-credit-card-outline"></i> Risque crédit
		                                            </a>
		                                        </li>
		                                        <li class="nav-item">
		                                            <a class="nav-link" data-bs-toggle="tab" href="#reminderClientTab" role="tab" aria-selected="false" style="font-weight: 600;">
		                                                <i class="mdi mdi-clock-outline"></i> Relances &amp; litiges
		                                            </a>
		                                        </li>
		                                        <li class="nav-item">
		                                            <a class="nav-link" data-bs-toggle="tab" href="#reportClientTab" role="tab" aria-selected="false" style="font-weight: 600;">
		                                                <i class="mdi mdi-speedometer"></i> Rapports et indicateurs
		                                            </a>
		                                        </li>
		                                        <li class="nav-item">
		                                            <a class="nav-link" data-bs-toggle="tab" href="#contactClientTab" role="tab" aria-selected="false" style="font-weight: 600;">
		                                                <i class="mdi mdi-account-circle-outline"></i> Contacts
		                                            </a>
		                                        </li>
		                                    </ul>
		                                    <!-- Tab panes -->
		                                    <div class="tab-content text-muted">
		                                    	<div class="tab-pane active" id="creditClientTab" role="tabpanel">
		                                        	<div class="live-preview">
			                                            <div class="table-responsive">
			                                            	<h6 style="float:left; font-weight: 600; margin-top: 20px">BALANCE AGEE</h6>
															<table width="100%" id="outstandingStatusTable"
																ng-controller="outstandingStatusTableController"
																th:attr="ng-init='init();'"
																class="table table-striped b-t b-b">
																<thead>
																	<tr>
																		<th>ID</th>
																		<th>Statut</th>
																		<th>Encours accordé</th>
																		<th>Encours réel</th>
																		<th>Encours non échu</th>
																		<th>Dépassement</th>
																		<th>Total Retard</th>
																		<th>Retard &lt; à 30 jrs</th>
																		<th>Retard entre 30 et 90 jrs</th>
																		<th>Retard &gt; à 90 jrs</th>
																	</tr>
																</thead>
															</table><br/><br/><br/>
															<h6 style="float:left; font-weight: 600; margin-top: 20px">AUTORISATIONS D'ENCOURS CLIENT</h6>
															<table width="100%" id="outstandingTable"
																ng-controller="outstandingTableController"
																th:attr="ng-init='init();'"
																class="table table-striped b-t b-b">
																<thead>
																	<tr>
																		<th>ID</th>
																		<th>Statut</th>
																		<th>Montant demandé</th>
																		<th>Montant accordé</th>
																		<th>Eligibilité</th>
																		<th>Assureur</th>
																		<th>Montant de l'agrément</th>
																	</tr>
																</thead>
															</table><br/><br/><br/>
															<!-- <h6 style="float:left; font-weight: 600; margin-top: 20px">AUTORISATIONS PONCTUELLES</h6>
															<table width="100%" id="creditLimitTable"
																ng-controller="creditLimitTableController"
																th:attr="ng-init='init();'"
																class="table table-striped b-t b-b">
																<thead>
																	<tr>
																		<th>ID</th>
																		<th>Statut</th>
																		<th>Date d'échéance</th>
																		<th>Montant demandé</th>
																		<th>Montant accordé</th>
																	</tr>
																</thead>
															</table> --><br/>
															<div class="accordion custom-accordionwithicon-plus accordion-dark" id="accordionWithplusicon">
					                                            <div class="accordion-item shadow">
					                                                <h2 class="accordion-header" id="accordionwithplusExample1">
					                                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#accor_plusExamplecollapse1" aria-expanded="true" aria-controls="accor_plusExamplecollapse1">
					                                                        <span style="font-weight: 600;">NOTATION CREDIT</span>
					                                                    </button>
					                                                </h2>
					                                                <div id="accor_plusExamplecollapse1" class="accordion-collapse collapse show" aria-labelledby="accordionwithplusExample1" data-bs-parent="#accordionWithplusicon">
					                                                    <div class="accordion-body">
					                                                    	<div class="row">
							  													<div ng-class="'col-md-4'">
							  														<div class="alert alert-info alert-dismissible alert-label-icon rounded-label fade show" role="alert" style="padding: 5px; margin-bottom: 5px; text-align: center; font-weight: bold">Forme juridique</div>
							  														<select class="form-control" id="choices-multiple-default" data-choices="true" multiple="true" name="choices-multiple-default">
							                                                            <option value="Choice 1">Nouvelle entreprise / pas d'infos</option>
							                                                            <option value="Choice 2">Société Anonyme et associées</option>
							                                                            <option value="Choice 3">Propriétaire individuel (EURL)</option>
							                                                            <option value="Choice 4">Coopérative</option>
							                                                        </select>
							  													</div>
							  													<div ng-class="'col-md-4'">
							  														<div class="alert alert-info alert-dismissible alert-label-icon rounded-label fade show" role="alert" style="padding: 5px; margin-bottom: 5px; text-align: center; font-weight: bold">Age de l'entreprise</div>
							  														<select class="form-control" id="choices-multiple-default" data-choices="true" multiple="true" name="choices-multiple-default">
							                                                            <option value="Choice 1">&lt;= 2 ans</option>
							                                                            <option value="Choice 2">2 - 4 ans</option>
							                                                            <option value="Choice 3">5 - 6 ans</option>
							                                                            <option value="Choice 4">9 - 10 ans</option>
							                                                        </select>
							  													</div>
							  													<div ng-class="'col-md-4'">
							  														<div class="alert alert-info alert-dismissible alert-label-icon rounded-label fade show" role="alert" style="padding: 5px; margin-bottom: 5px; text-align: center; font-weight: bold">Comportement de paiement</div>
							  														<select class="form-control" id="choices-multiple-default" data-choices="true" multiple="true" name="choices-multiple-default">
							                                                            <option value="Choice 1">&gt; 30 jours de retard / nouveau client</option>
							                                                            <option value="Choice 2">20 - 30 jours de retard</option>
							                                                            <option value="Choice 3">7 - 10 jours de retard</option>
							                                                            <option value="Choice 4">&lt; 7 jours de retard</option>
							                                                        </select>
							  													</div>
							  													<div ng-class="'col-md-4'">
							  														<div class="alert alert-info alert-dismissible alert-label-icon rounded-label fade show" role="alert" style="padding: 5px; margin-bottom: 5px; text-align: center; font-weight: bold">Délai de paiement accordé</div>
							  														<select class="form-control" id="choices-multiple-default" data-choices="true" multiple="true" name="choices-multiple-default">
							                                                            <option value="Choice 1">&gt; 120 jours</option>
							                                                            <option value="Choice 2">91 - 120 jours</option>
							                                                            <option value="Choice 3">61 - 90 jours</option>
							                                                            <option value="Choice 4">&lt; 10 jours</option>
							                                                        </select>
							  													</div>
							  													<div ng-class="'col-md-4'">
							  														<div class="alert alert-info alert-dismissible alert-label-icon rounded-label fade show" role="alert" style="padding: 5px; margin-bottom: 5px; text-align: center; font-weight: bold">Avis du Commercial</div>
							  														<select class="form-control" id="choices-multiple-default" data-choices="true" multiple="true" name="choices-multiple-default">
							                                                            <option value="Choice 1">Négatif</option>
							                                                            <option value="Choice 2">Moyen</option>
							                                                            <option value="Choice 3">Bon</option>
							                                                            <option value="Choice 4">Très bon</option>
							                                                        </select>
							  													</div>
							  													<div ng-class="'col-md-4'">
							  														<div class="alert alert-info alert-dismissible alert-label-icon rounded-label fade show" role="alert" style="padding: 5px; margin-bottom: 5px; text-align: center; font-weight: bold">Fonds de roulement (FR)</div>
							  														<select class="form-control" id="choices-multiple-default" data-choices="true" multiple="true" name="choices-multiple-default">
							                                                            <option value="Choice 1">Négatif</option>
							                                                            <option value="Choice 2">Positif</option>
							                                                        </select>
							  													</div>
							  												</div>
					                                                    </div>
					                                                </div>
					                                            </div>
					                                            <div class="accordion-item shadow accordion-dark">
					                                                <h2 class="accordion-header" id="accordionwithplusExample2">
					                                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#accor_plusExamplecollapse2" aria-expanded="false" aria-controls="accor_plusExamplecollapse2">
					                                                        <span style="font-weight: 600;">LIMITE DE CREDIT</span>
					                                                    </button>
					                                                </h2>
					                                                <div id="accor_plusExamplecollapse2" class="accordion-collapse collapse" aria-labelledby="accordionwithplusExample2" data-bs-parent="#accordionWithplusicon">
					                                                    <div class="accordion-body">
					                                                    </div>
					                                                </div>
					                                            </div>
					                                        </div>
														</div>
													</div>  
		                                        </div>
		                                        <div class="tab-pane" id="reminderClientTab" role="tabpanel">
		                                        	<div id="timeline-wrap" style="padding-bottom: 30px">
														<h6 class="timeline-title">{{dto.scenario.name}}</h6>
														<div id="timeline"></div>
														<div id="timeline-body"
															ng-repeat="scenarioStage in dto.scenario.scenarioStagesDTO">
															<div
																style="margin-top: -20px; margin-left: {{scenarioStage.position}}">
																<div class="marker-time">
																	<span>{{scenarioStage.daysNum}}</span>
																</div>
																<div class="marker"
																	style="background-color: {{scenarioStage.actionColor}}">
																	<i class="{{scenarioStage.actionIcon}}"></i>
																</div>
															</div>
														</div>
													</div>
		                                        	<div class="live-preview">
			                                            <div class="table-responsive">
			                                            	<h6 style="font-weight: 600; margin-top: 20px">RELANCES</h6>
															<table id="reminderTable"
																	ng-controller="reminderTableController"
																	th:attr="ng-init='init();'"
																	class="table table-striped b-t b-b">
																	<thead>
																		<tr>
																			<th>ID</th>
																			<th>Date d'action</th>
																			<th>Action</th>
																			<th>Type d'action</th>
																			<th>Nom</th>
																			<th>N° Facture</th>
																			<th>Montant</th>
																			<th>Actions</th>
																		</tr>
																	</thead>
																</table><br/><br/><br/>
														      <h6 style="font-weight: 600; margin-top: 20px">DOSSIERS DE LITIGE</h6>
														      <table id="litigationCurrentTable" ng-controller="litigationCurrentTableController"
																	th:attr="ng-init='init();'" class="table table-striped b-t b-b">
														        <thead>
														          <tr>
														            <th>ID</th>
														            <th>Date litige</th>
														            <th>Code litige</th>
														            <th>N° Facture</th>
														            <th>Montant</th>
														          </tr>
														        </thead>
														      </table>
														</div>
													</div>
		                                        </div>
		                                        <div class="tab-pane" id="reportClientTab" role="tabpanel">
		                                        	<div class="live-preview">
			                                            <div class="table-responsive">
															
														</div>
													</div>  
		                                        </div>
		                                        <div class="tab-pane" id="contactClientTab" role="tabpanel">
		                                        	<div class="live-preview">
			                                            <div class="table-responsive">
															<table width="100%" id="contactTable"
																ng-controller="contactTableController"
																th:attr="ng-init='init();'"
																class="table table-striped b-t b-b">
																<thead>
																	<tr>
																		<th>ID</th>
																		<th>Nom</th>
																		<th>Prénom</th>
																		<th>Fonction</th>
																		<th>N° Téléphone</th>
																		<th>Email</th>
																	</tr>
																</thead>
															</table>
														</div>
													</div>  
		                                        </div>
		                                    </div>
		                                </div>
							</div>
						</div>
						<div class="modal-footer">
							
						</div>
					</div>
				</div>
			</div>
			<div id="invoiceTotalModal" class="modal fade" data-backdrop="true">
				<div class="modal-dialog modal-lg modal-customized">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Liste de factures en attente de règlement</h5>
							<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
						</div>
						<form name="" method="post" action="#" class="form-horizontal"
							ui-jp="parsley">
							<div class="modal-body p-lg">
								<div class="row">
									<div ng-class="'col-md-12'">
										<div style="margin-bottom: 14px;">
											<div class="btn-group btn-group-sm mt-2 shadow" role="group" aria-label="Basic example">
		                                        <button type="button" ng-click="checkAll('invoiceId');" class="btn btn-primary waves-effect waves-light shadow-none"><i class="mdi mdi-checkbox-marked-circle label-icon align-middle fs-12"></i> Tout cocher</button>
		                                    	<button type="button" ng-click="uncheckAll('invoiceId');" class="btn btn-primary waves-effect waves-light shadow-none"><i class="mdi mdi-checkbox-blank-circle-outline label-icon align-middle fs-12"></i> Tout décocher</button>
		                                    </div>
										</div>
										<div class="table-responsive" style="background: #FFFFFF">
											<table width="100%" id="invoiceTotalTable"
												ng-controller="invoiceTotalTableController"
												th:attr="ng-init='init();'"
												class="table table-striped b-t b-b">
												<thead>
													<tr>
														<th>ID</th>
														<th></th>
														<th>Date de facture</th>
														<th>Date d'échéance</th>
														<th>Retard</th>
														<th>N° Facture</th>
														<th>Montant restant TTC</th>
														<th>Règlement</th>
														<th>Statut</th>
													</tr>
												</thead>
											</table>
										</div>
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<a href="#" ng-if="dto.invoice.id" class="btn btn-primary btn-label waves-effect waves-light" ng-click="showComment()">
	                            	<i class="mdi mdi-comment-text-multiple label-icon align-middle fs-16 me-2"></i> Commentaires
	                            </a>
								<a href="#" ng-if="checked" class="btn btn-primary btn-label waves-effect waves-light" ng-click="addPromiseClient('invoiceId')">
	                            	<i class="mdi mdi-file-chart label-icon align-middle fs-16 me-2"></i> Ajouter une promesse de règlement
	                            </a>
								<a href="#" ng-if="checked" class="btn btn-primary btn-label waves-effect waves-light" id="genreminder" ng-click="addReminderClient('invoiceId')">
	                            	<i class="mdi mdi-clock-outline label-icon align-middle fs-16 me-2"></i> Générer une relance
	                            </a>
							</div>
						</form>
					</div>
				</div>
			</div>
			<div id="invoiceNotOverdueModal" class="modal fade"
				data-backdrop="true">
				<div class="modal-dialog modal-lg modal-customized">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Liste de factures non échues en
								attente de règlement</h5>
							<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
						</div>
						<form name="" method="post" action="#" class="form-horizontal"
							ui-jp="parsley">
							<div class="modal-body p-lg">
								<div class="row">
									<div ng-class="'col-md-12'">
										<div style="margin-bottom: 14px;">
											<a href="#" ng-click="checkAll('invoiceNotOverdueId');">
												<span class="badge text-bg-info" style="font-weight: normal; padding-top: 5px">Tout cocher</span>
											</a>
											<a href="#" ng-click="uncheckAll('invoiceNotOverdueId');">
												<span class="badge text-bg-info" style="font-weight: normal; padding-top: 5px">Tout décocher</span>
											</a>
										</div>
										<div class="table-responsive" style="background: #FFFFFF">
											<table width="100%" id="invoiceNotOverdueTable"
												ng-controller="invoiceNotOverdueTableController"
												th:attr="ng-init='init();'"
												class="table table-striped b-t b-b">
												<thead>
													<tr>
														<th>ID</th>
														<th></th>
														<th>Date de facture</th>
														<th>Date d'échéance</th>
														<th>Retard</th>
														<th>N° Facture</th>
														<th>Montant restant TTC</th>
														<th>Règlement</th>
														<th>Statut</th>
													</tr>
												</thead>
											</table>
										</div>
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<a href="#" ng-if="dto.invoice.id" class="btn btn-primary btn-label waves-effect waves-light" ng-click="showComment()">
	                            	<i class="mdi mdi-comment-text-multiple label-icon align-middle fs-16 me-2"></i> Commentaires
	                            </a>
								<a href="#" ng-if="checked" class="btn btn-primary btn-label waves-effect waves-light" ng-click="addPromiseClient('invoiceNotOverdueId')">
	                            	<i class="mdi mdi-file-chart label-icon align-middle fs-16 me-2"></i> Ajouter une promesse de règlement
	                            </a>
								<a href="#" ng-if="checked" class="btn btn-primary btn-label waves-effect waves-light" ng-click="addReminderClient('invoiceNotOverdueId')">
	                            	<i class="mdi mdi-clock-outline label-icon align-middle fs-16 me-2"></i> Générer une relance
	                            </a>
							</div>
						</form>
					</div>
				</div>
			</div>
			<div id="invoiceOverdueModal" class="modal fade" data-backdrop="true">
				<div class="modal-dialog modal-lg modal-customized">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Liste de factures échues en attente
								de règlement</h5>
							<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
						</div>
						<form name="" method="post" action="#" class="form-horizontal"
							ui-jp="parsley">
							<div class="modal-body p-lg">
								<div class="row">
									<div ng-class="'col-md-12'">
										<div style="margin-bottom: 14px;">
											<div class="btn-group btn-group-sm mt-2 shadow" role="group" aria-label="Basic example">
		                                        <button type="button" ng-click="checkAll('invoiceOverdueId');" class="btn btn-primary waves-effect waves-light shadow-none"><i class="mdi mdi-checkbox-marked-circle label-icon align-middle fs-12"></i> Tout cocher</button>
		                                    	<button type="button" ng-click="uncheckAll('invoiceOverdueId');" class="btn btn-primary waves-effect waves-light shadow-none"><i class="mdi mdi-checkbox-blank-circle-outline label-icon align-middle fs-12"></i> Tout décocher</button>
		                                    </div>
										</div>
										<div class="table-responsive" style="background: #FFFFFF">
											<table width="100%" id="invoiceOverdueTable"
												ng-controller="invoiceOverdueTableController"
												th:attr="ng-init='init();'"
												class="table table-striped b-t b-b">
												<thead>
													<tr>
														<th>ID</th>
														<th></th>
														<th>Date de facture</th>
														<th>Date d'échéance</th>
														<th>Retard</th>
														<th>N° Facture</th>
														<th>Montant restant TTC</th>
														<th>Règlement</th>
														<th>Statut</th>
													</tr>
												</thead>
											</table>
										</div>
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<a href="#" ng-if="dto.invoice.id" class="btn btn-primary btn-label waves-effect waves-light" ng-click="showComment()">
	                            	<i class="mdi mdi-comment-text-multiple label-icon align-middle fs-16 me-2"></i> Commentaires
	                            </a>
								<a href="#" ng-if="checked" class="btn btn-primary btn-label waves-effect waves-light" ng-click="addPromiseClient('invoiceOverdueId')">
	                            	<i class="mdi mdi-file-chart label-icon align-middle fs-16 me-2"></i> Ajouter une promesse de règlement
	                            </a>
								<a href="#" ng-if="checked" class="btn btn-primary btn-label waves-effect waves-light" ng-click="addReminderClient('invoiceOverdueId')">
	                            	<i class="mdi mdi-clock-outline label-icon align-middle fs-16 me-2"></i> Générer une relance
	                            </a>
							</div>
						</form>
					</div>
				</div>
			</div>
			<div id="invoiceOverdue30Modal" class="modal fade"
				data-backdrop="true">
				<div class="modal-dialog modal-lg modal-customized">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Liste de factures échues à moins de
								30 jours en attente de règlement</h5>
							<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
						</div>
						<form name="" method="post" action="#" class="form-horizontal"
							ui-jp="parsley">
							<div class="modal-body p-lg">
								<div class="row">
									<div ng-class="'col-md-12'">
										<div style="margin-bottom: 14px;">
											<div class="btn-group btn-group-sm mt-2 shadow" role="group" aria-label="Basic example">
		                                        <button type="button" ng-click="checkAll('invoiceOverdue30Id');" class="btn btn-primary waves-effect waves-light shadow-none"><i class="mdi mdi-checkbox-marked-circle label-icon align-middle fs-12"></i> Tout cocher</button>
		                                    	<button type="button" ng-click="uncheckAll('invoiceOverdue30Id');" class="btn btn-primary waves-effect waves-light shadow-none"><i class="mdi mdi-checkbox-blank-circle-outline label-icon align-middle fs-12"></i> Tout décocher</button>
		                                    </div>
										</div>
										<div class="table-responsive" style="background: #FFFFFF">
											<table width="100%" id="invoiceOverdue30Table"
												ng-controller="invoiceOverdue30TableController"
												th:attr="ng-init='init();'"
												class="table table-striped b-t b-b">
												<thead>
													<tr>
														<th>ID</th>
														<th></th>
														<th>Date de facture</th>
														<th>Date d'échéance</th>
														<th>Retard</th>
														<th>N° Facture</th>
														<th>Montant restant TTC</th>
														<th>Règlement</th>
														<th>Statut</th>
													</tr>
												</thead>
											</table>
										</div>
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<a href="#" ng-if="dto.invoice.id" class="btn btn-primary btn-label waves-effect waves-light" ng-click="showComment()">
	                            	<i class="mdi mdi-comment-text-multiple label-icon align-middle fs-16 me-2"></i> Commentaires
	                            </a>
								<a href="#" ng-if="checked" class="btn btn-primary btn-label waves-effect waves-light" ng-click="addPromiseClient('invoiceOverdue30Id')">
	                            	<i class="mdi mdi-file-chart label-icon align-middle fs-16 me-2"></i> Ajouter une promesse de règlement
	                            </a>
								<a href="#" ng-if="checked" class="btn btn-primary btn-label waves-effect waves-light" ng-click="addReminderClient('invoiceOverdue30Id')">
	                            	<i class="mdi mdi-clock-outline label-icon align-middle fs-16 me-2"></i> Générer une relance
	                            </a>
							</div>
						</form>
					</div>
				</div>
			</div>
			<div id="invoiceOverdue60Modal" class="modal fade"
				data-backdrop="true">
				<div class="modal-dialog modal-lg modal-customized">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Liste de factures échues entre 30
								et 90 jours en attente de règlement</h5>
							<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
						</div>
						<form name="" method="post" action="#" class="form-horizontal"
							ui-jp="parsley">
							<div class="modal-body p-lg">
								<div class="row">
									<div ng-class="'col-md-12'">
										<div style="margin-bottom: 14px;">
											<div class="btn-group btn-group-sm mt-2 shadow" role="group" aria-label="Basic example">
		                                        <button type="button" ng-click="checkAll('invoiceOverdue60Id');" class="btn btn-primary waves-effect waves-light shadow-none"><i class="mdi mdi-checkbox-marked-circle label-icon align-middle fs-12"></i> Tout cocher</button>
		                                    	<button type="button" ng-click="uncheckAll('invoiceOverdue60Id');" class="btn btn-primary waves-effect waves-light shadow-none"><i class="mdi mdi-checkbox-blank-circle-outline label-icon align-middle fs-12"></i> Tout décocher</button>
		                                    </div>
										</div>
										<div class="table-responsive" style="background: #FFFFFF">
											<table width="100%" id="invoiceOverdue60Table"
												ng-controller="invoiceOverdue60TableController"
												th:attr="ng-init='init();'"
												class="table table-striped b-t b-b">
												<thead>
													<tr>
														<th>ID</th>
														<th></th>
														<th>Date de facture</th>
														<th>Date d'échéance</th>
														<th>Retard</th>
														<th>N° Facture</th>
														<th>Montant restant TTC</th>
														<th>Règlement</th>
														<th>Statut</th>
													</tr>
												</thead>
											</table>
										</div>
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<a href="#" ng-if="dto.invoice.id" class="btn btn-primary btn-label waves-effect waves-light" ng-click="showComment()">
	                            	<i class="mdi mdi-comment-text-multiple label-icon align-middle fs-16 me-2"></i> Commentaires
	                            </a>
								<a href="#" ng-if="checked" class="btn btn-primary btn-label waves-effect waves-light" ng-click="addPromiseClient('invoiceOverdue60Id')">
	                            	<i class="mdi mdi-file-chart label-icon align-middle fs-16 me-2"></i> Ajouter une promesse de règlement
	                            </a>
								<a href="#" ng-if="checked" class="btn btn-primary btn-label waves-effect waves-light" ng-click="addReminderClient('invoiceOverdue60Id')">
	                            	<i class="mdi mdi-clock-outline label-icon align-middle fs-16 me-2"></i> Générer une relance
	                            </a>
							</div>
						</form>
					</div>
				</div>
			</div>
			<div id="invoiceOverdue90Modal" class="modal fade"
				data-backdrop="true">
				<div class="modal-dialog modal-lg modal-customized">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Liste de factures échues à plus de
								90 jours en attente de règlement</h5>
							<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
						</div>
						<form name="" method="post" action="#" class="form-horizontal"
							ui-jp="parsley">
							<div class="modal-body p-lg">
								<div class="row">
									<div ng-class="'col-md-12'">
										<div style="margin-bottom: 14px;">
											<div class="btn-group btn-group-sm mt-2 shadow" role="group" aria-label="Basic example">
		                                        <button type="button" ng-click="checkAll('invoiceOverdue90Id');" class="btn btn-primary waves-effect waves-light shadow-none"><i class="mdi mdi-checkbox-marked-circle label-icon align-middle fs-12"></i> Tout cocher</button>
		                                    	<button type="button" ng-click="uncheckAll('invoiceOverdue90Id');" class="btn btn-primary waves-effect waves-light shadow-none"><i class="mdi mdi-checkbox-blank-circle-outline label-icon align-middle fs-12"></i> Tout décocher</button>
		                                    </div>
										</div>
										<div class="table-responsive" style="background: #FFFFFF">
											<table width="100%" id="invoiceOverdue90Table"
												ng-controller="invoiceOverdue90TableController"
												th:attr="ng-init='init();'"
												class="table table-striped b-t b-b">
												<thead>
													<tr>
														<th>ID</th>
														<th></th>
														<th>Date de facture</th>
														<th>Date d'échéance</th>
														<th>Retard</th>
														<th>N° Facture</th>
														<th>Montant restant TTC</th>
														<th>Règlement</th>
														<th>Statut</th>
													</tr>
												</thead>
											</table>
										</div>
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<a href="#" ng-if="dto.invoice.id" class="btn btn-primary btn-label waves-effect waves-light" ng-click="showComment()">
	                            	<i class="mdi mdi-comment-text-multiple label-icon align-middle fs-16 me-2"></i> Commentaires
	                            </a>
								<a href="#" ng-if="checked" class="btn btn-primary btn-label waves-effect waves-light" ng-click="addPromiseClient('invoiceOverdue90Id')">
	                            	<i class="mdi mdi-file-chart label-icon align-middle fs-16 me-2"></i> Ajouter une promesse de règlement
	                            </a>
								<a href="#" ng-if="checked" class="btn btn-primary btn-label waves-effect waves-light" ng-click="addReminderClient('invoiceOverdue90Id')">
	                            	<i class="mdi mdi-clock-outline label-icon align-middle fs-16 me-2"></i> Générer une relance
	                            </a>
							</div>
						</form>
					</div>
				</div>
			</div>
			<div id="invoiceDetailModal" class="modal fade" data-backdrop="true">
				<div class="modal-dialog modal-lg modal-customized">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Facture Nº {{dto.invoiceDetail.code}}</h5>
							<span class="nav-link-breadcrumb label primary" style="float: right; padding-top: 5px; padding-bottom: 5px">Client : {{dto.invoiceDetail.clientCompanyName}}</span>
						</div>
						<div class="modal-body p-lg">
							<div class="row">
								<div ng-class="'col-md-12'">
									<div class="form-group {{dto.invoiceDetail.invoiceStatusColor}} align-center">
										{{dto.invoiceDetail.invoiceStatusText}}
									</div>
								</div>
							</div>
							<div class="row">
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Date de facturation :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{dto.invoiceDetail.invoiceDate}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Date d'échéance :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{dto.invoiceDetail.dueDate}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Montant initial TTC :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{dto.invoiceDetail.amountTtc}} {{dto.invoiceDetail.currencySymbol}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Montant restant TTC :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										<strong>{{dto.invoiceDetail.remainingAmount}} {{dto.invoiceDetail.currencySymbol}}</strong>
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Type de facturation :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{dto.invoiceDetail.invoiceTypeName}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Méthode de paiement :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{dto.invoiceDetail.paymentMethodName}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Commercial :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Chargé de recouvrement :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
									</div>
								</div>
								<div ng-class="'col-md-12'">
									<div class="b-b nav-active-bg">
							          <ul class="nav nav-tabs-modal">
							            <li class="nav-item" style="width: 31%; text-align: center; margin: auto;">
							              <a class="nav-link active" href="#" data-toggle="tab" data-target="#invoicetab1">Historique des relances <span ng-if="invoiceReminderNum == 0" class="label rounded" style="font-size: 12px; margin-left: 3px;">{{invoiceReminderNum}}</span><span ng-if="invoiceReminderNum != 0" class="label rounded primary" style="font-size: 12px; margin-left: 3px;">{{invoiceReminderNum}}</span></a>
							            </li>
							            <li class="nav-item" style="width: 23%; text-align: center; margin: auto;">
							              <a class="nav-link" href="#" data-toggle="tab" data-target="#invoicetab2">Promesses <span ng-if="invoicePromiseNum == 0" class="label rounded" style="font-size: 12px; margin-left: 3px;">{{invoicePromiseNum}}</span><span ng-if="invoicePromiseNum != 0" class="label rounded primary" style="font-size: 12px; margin-left: 3px;">{{invoicePromiseNum}}</span></a>
							            </li>
							            <li class="nav-item" style="width: 23%; text-align: center; margin: auto;">
							              <a class="nav-link" href="#" data-toggle="tab" data-target="#invoicetab3">Litiges <span ng-if="invoiceLitigationNum == 0" class="label rounded" style="font-size: 12px; margin-left: 3px;">{{invoiceLitigationNum}}</span><span ng-if="invoiceLitigationNum != 0" class="label rounded primary" style="font-size: 12px; margin-left: 3px;">{{invoiceLitigationNum}}</span></a>
							            </li>
							            <li class="nav-item" style="width: 23%; text-align: center; margin: auto;">
							              <a class="nav-link" href="#" data-toggle="tab" data-target="#invoicetab4">Contentieux <span ng-if="invoiceContenceNum == 0" class="label rounded" style="font-size: 12px; margin-left: 3px;">{{invoiceContenceNum}}</span><span ng-if="invoiceContenceNum != 0" class="label rounded primary" style="font-size: 12px; margin-left: 3px;">{{invoiceContenceNum}}</span></a>
							            </li>
							          </ul>
							        </div>
							        <div class="tab-content p-a m-b-md" style="background: #FFFFFF;">
							          <div class="tab-pane animated fadeIn active text-muted" id="invoicetab1" style="padding: 10px;">
							            <div class="table-responsive">
											<table width="100%" id="reminderInvoiceTable" ng-controller="reminderInvoiceTableController"
												th:attr="ng-init='init();'" class="table table-striped b-t b-b">
									        <thead>
									          <tr>
									            <th>ID</th>
									            <th>Date</th>
									            <th>Action</th>
									            <th>Type d'action</th>
									            <th>Nom</th>
									          </tr>
									        </thead>
									      </table>
										</div>
							          </div>
							          <div class="tab-pane animated fadeIn text-muted" id="invoicetab2" style="padding: 10px;">
							            <div class="table-responsive">
											<table width="100%" id="promiseInvoiceTable" ng-controller="promiseInvoiceTableController"
												th:attr="ng-init='init();'" class="table table-striped b-t b-b">
									        <thead>
									          <tr>
									            <th>ID</th>
									            <th>Statut</th>
									            <th>Date</th>
									            <th>Date prévue</th>
									            <th>Nom</th>
									            <th>Commentaires</th>
									          </tr>
									        </thead>
									      </table>
										</div>
							          </div>
							          <div class="tab-pane animated fadeIn text-muted" id="invoicetab3" style="padding: 10px;">
							            <div class="table-responsive">
											<table width="100%" id="litigationInvoiceTable" ng-controller="litigationInvoiceTableController"
												th:attr="ng-init='init();'" class="table table-striped b-t b-b">
									        <thead>
									          <tr>
									            <th>ID</th>
									            <th>Statut</th>
									            <th>Date</th>
									            <th>Nom</th>
									            <th>Commentaires</th>
									          </tr>
									        </thead>
									      </table>
										</div>
							          </div>
							          <div class="tab-pane animated fadeIn text-muted" id="invoicetab4" style="padding: 10px;">
							             <div class="table-responsive">
										  <table width="100%" id="contenceInvoiceTable" ng-controller="contenceInvoiceTableController"
												th:attr="ng-init='init();'" class="table table-striped b-t b-b">
									        <thead>
									          <tr>
									            <th>ID</th>
									            <th>Statut</th>
									            <th>Date</th>
									            <th>Nº Affaire</th>
									            <th>Avocat</th>
									            <th>Tribunal de compétences</th>
									          </tr>
									        </thead>
									      </table>
										</div>
							          </div>
							        </div>
								</div>
							</div>
						</div>
						<div class="modal-footer">
							<a href="#" class="btn warn p-x-md" ng-click="addLitigation(dto.invoiceDetail.id)">Déclasser en litige</a>
							<a href="#" class="btn orange p-x-md" ng-click="addContence()">Déclasser en contentieux</a>
							<a href="#" class="btn danger p-x-md" data-dismiss="modal">Fermer</a>
						</div>
					</div>
				</div>
			</div>
			<div id="litigationModal" class="modal fade" data-backdrop="true">
			    <div class="modal-dialog">
			      <div class="modal-content">
			        <div class="modal-header">
			      	  <h5 class="modal-title" ng-if="addLitigationForm">Enregistrement d'un litige</h5>
			      	  <h5 class="modal-title" ng-if="editLitigationForm">Modification d'un litige</h5>
			        </div>
			        <form id="litigationForm" name="litigationForm" method="post" action="#" class="form-horizontal" ui-jp="parsley">
			          <div class="modal-body p-lg">
			            <div class="row">
						  <input type="hidden" ng-model="dto.id" />
						  <div ng-class="'col-md-12'">
						  	<p class="text-muted">Renseignez les champs obligatoires</p>
						  	<div ng-if="litigationRequiredError" class="alert alert-danger" role="alert">
						  	  Veuillez remplir tous les champs obligatoires !
						  	</div>
						  	<div ng-if="litigationTechnicalError" class="alert alert-danger" role="alert">
						  	  Un problème est survenu ! Merci de contacter votre administrateur.
						  	</div>
						  	<div ng-if="litigationSuccess" class="alert alert-success" role="alert">
						  	  L'opération s'est effectuée avec succès !
						  	</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> N° Facture</label> <select
									class="form-control" name="invoice" ng-model="dto.litigation.invoiceId" ng-change="loadByInvoice(dto.litigation.invoiceId)"
									ng-options="i.id as i.code for i in invoices" required="required">
										<option value="">Choisir une option</option>
									</select>
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Montant de la facture</label> <input
									type="text" class="form-control" name="amount"
									ng-model="dto.litigation.amount" required="required" ng-readonly="true" />
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Date d'échéance</label> <input
									type="text" class="form-control" name="dueDate" datepicker="datepicker"
									ng-model="dto.litigation.dueDate" required="required" ng-readonly="true" />
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Nom du client</label> <input
									type="text" class="form-control" name="clientCompanyName"
									ng-model="dto.litigation.clientCompanyName" required="required" ng-readonly="true" />
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Date de litige</label> <input
									type="text" class="form-control" name="date" datepicker="datepicker"
									ng-model="dto.litigation.date" required="required" />
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Status</label> <select
									class="form-control" name="litigationStatus" ng-model="dto.litigation.litigationStatusId"
									ng-options="l.id as l.name for l in litigationStatus" required="required">
										<option value="">Choisir une option</option>
									</select>
							</div>
						  </div>
						  <div ng-class="'col-md-12'">
							<div class="form-group">
								<label>Commentaires</label> <textarea
									type="text" class="form-control" name="comment"
									ng-model="dto.litigation.comment"></textarea>
							</div>
						  </div>
						</div>
			          </div>
			          <div class="modal-footer">
			          	<a href="#" class="btn warn p-x-md" data-dismiss="modal">Annuler</a>
			            <a href="#" ng-click="saveLitigation()" class="btn success p-x-md">Enregistrer</a>
			          </div>
			        </form>
			      </div><!-- /.modal-content -->
			    </div>
			  </div>
			  <div id="contenceModal" class="modal fade" data-backdrop="true">
			    <div class="modal-dialog">
			      <div class="modal-content">
			        <div class="modal-header">
			      	  <h5 class="modal-title" ng-if="addContenceForm">Enregistrement d'un dossier de contentieux</h5>
			      	  <h5 class="modal-title" ng-if="editContenceForm">Modification d'un dossier de contentieux</h5>
			        </div>
			        <form id="contenceForm" name="contenceForm" method="post" action="#" class="form-horizontal" ui-jp="parsley">
			          <div class="modal-body p-lg">
			            <div class="row">
						  <input type="hidden" ng-model="dto.id" />
						  <div ng-class="'col-md-12'">
						  	<p class="text-muted">Renseignez les champs obligatoires</p>
						  	<div ng-if="contenceRequiredError" class="alert alert-danger" role="alert">
						  	  Veuillez remplir tous les champs obligatoires !
						  	</div>
						  	<div ng-if="contenceTechnicalError" class="alert alert-danger" role="alert">
						  	  Un problème est survenu ! Merci de contacter votre administrateur.
						  	</div>
						  	<div ng-if="contenceSuccess" class="alert alert-success" role="alert">
						  	  L'opération s'est effectuée avec succès !
						  	</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label>N° Affaire</label> <input
									type="text" class="form-control" name="code"
									ng-model="dto.contence.code" ng-readonly="true" />
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> N° Facture</label> <select
									class="form-control" name="invoice" ng-model="dto.contence.invoiceId"
									ng-options="i.id as i.code for i in invoices" required="required"></select>
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Montant de la facture</label> <input
									type="text" class="form-control" name="amount"
									ng-model="dto.contence.amount" required="required" ng-readonly="true" />
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Nom du client</label> <input
									type="text" class="form-control" name="clientCompanyName"
									ng-model="dto.contence.clientCompanyName" required="required" ng-readonly="true" />
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Date</label> <input
									type="text" class="form-control" name="date" datepicker="datepicker"
									ng-model="dto.contence.date" required="required" />
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Status</label> <select
									class="form-control" name="contenceStep" ng-model="dto.contence.contenceStepId"
									ng-options="l.id as l.name for l in contenceSteps" required="required"></select>
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Avocat</label> <select
									class="form-control" name="lawyer" ng-model="dto.contence.lawyerId"
									ng-options="u.id as (u.prenom+' '+u.nom) for u in users" required="required"></select>
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label>Chargé de suivi</label> <select
									class="form-control" name="recoveryUser" ng-model="dto.contence.recoveryUserId"
									ng-options="u.id as (u.prenom+' '+u.nom) for u in users"></select>
							</div>
						  </div>
						  <div ng-class="'col-md-12'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Tribunal de commerce</label> <select
									class="form-control" name="commercialCourt" ng-model="dto.contence.commercialCourtId"
									ng-options="l.id as l.name for l in commercialCourts" required="required"></select>
							</div>
						  </div>
						  <div ng-class="'col-md-12'">
							<div class="form-group">
								<label>Commentaires</label> <textarea
									type="text" class="form-control" name="comment"
									ng-model="dto.contence.comment"></textarea>
							</div>
						  </div>
						</div>
			          </div>
			          <div class="modal-footer">
			          	<a href="#" class="btn warn p-x-md" data-dismiss="modal">Annuler</a>
			            <a href="#" ng-click="saveContence()" class="btn success p-x-md">Enregistrer</a>
			          </div>
			        </form>
			      </div><!-- /.modal-content -->
			    </div>
			  </div>
			<div id="promiseModal" class="modal fade" data-backdrop="true">
			    <div class="modal-dialog">
			      <div class="modal-content">
			        <div class="modal-header">
			      	  <h5 class="modal-title" ng-if="addPromiseForm">Enregistrement d'une promesse de règlement</h5>
			      	  <h5 class="modal-title" ng-if="editPromiseForm">Modification d'une promesse de règlement</h5>
			        </div>
			        <form id="promiseForm" name="promiseForm" method="post" action="#" class="form-horizontal" ui-jp="parsley">
			          <div class="modal-body p-lg">
			            <div class="row">
						  <input type="hidden" ng-model="dto.id" />
						  <div ng-class="'col-md-12'">
						  	<p class="text-muted">Renseignez les champs obligatoires</p>
						  	<div ng-if="promiseRequiredError" class="alert alert-danger" role="alert">
						  	  Veuillez remplir tous les champs obligatoires !
						  	</div>
						  	<div ng-if="promiseTechnicalError" class="alert alert-danger" role="alert">
						  	  Un problème est survenu ! Merci de contacter votre administrateur.
						  	</div>
						  	<div ng-if="promiseSuccess" class="alert alert-success" role="alert">
						  	  L'opération s'est effectuée avec succès !
						  	</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> N° Facture</label> <select
									class="form-control" name="invoice" ng-model="dto.promise.invoiceId"
									ng-options="i.id as i.code for i in invoices" required="required" ng-disabled="true">
										<option value="">Choisir une option</option>
									</select>
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Montant de la facture</label> <input
									type="text" class="form-control" name="amount"
									ng-model="dto.promise.amount" required="required" ng-readonly="true" />
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Date d'échéance</label> <input
									type="text" class="form-control" name="dueDate" datepicker="datepicker"
									ng-model="dto.promise.dueDate" required="required" ng-readonly="true" />
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Nom du client</label> <input
									type="text" class="form-control" name="clientCompanyName"
									ng-model="dto.promise.clientCompanyName" required="required" ng-readonly="true" />
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Date</label> <input
									type="text" class="form-control" name="date" datepicker="datepicker"
									ng-model="dto.promise.date" required="required" />
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Date prévue de règlement</label> <input
									type="text" class="form-control" name="predictedDate" datepicker="datepicker"
									ng-model="dto.promise.predictedDate" required="required" />
							</div>
						  </div>
						  <div ng-class="'col-md-12'">
							<div class="form-group">
								<label>Commentaires</label> <textarea
									type="text" class="form-control" name="comment"
									ng-model="dto.promise.comment"></textarea>
							</div>
						  </div>
						</div>
			          </div>
			          <div class="modal-footer">
			          	<a href="#" class="btn warn p-x-md" data-dismiss="modal">Annuler</a>
			            <a href="#" ng-click="savePromise()" class="btn success p-x-md">Enregistrer</a>
			          </div>
			        </form>
			      </div><!-- /.modal-content -->
			    </div>
			  </div>
	</div>
<div layout:fragment="plugins" class="page-content">
	<script th:src='@{/resources/js/client/clientCategory.js}'></script>
</div>
</body>
</html>