<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="template/layout">
<head>
	<title></title>
</head>
<body ng-controller="contractController" th:attr="ng-init='init();'">
<div layout:fragment="search">
		<form class="form-inline" role="search">
			<input type="text" class="form-control b-a rounded px-3 form-control-sm" style="min-width: 250px;" ng-model="search.key" placeholder="Rechercher contrat" />
			<a href="#" ng-click="searchContract()" class="btn success p-x-md" style="border-radius: 20px; padding-top: 3px; padding-bottom: 5px; margin-left: 10px; margin-right: 20px;"><i class="fa fa-search"></i></a>
		</form>
</div>
	
<div layout:fragment="content" class="page-content">
<!-- ############ PAGE START-->
<div class="p-a white lt box-shadow">
	<div class="row">
		<div class="col-sm-6">
			<h4 class="mb-0 _300">Gestion des contrats</h4>
			<small class="text-muted">Gestion des contrats</small>
		</div>
	</div>
</div>
<!-- ############ PAGE START-->
<div class="padding">
  <div class="row">
    <div class="col-md-12">
    	<div class="box">
			<div class="box-header">
				<div style="float:left; margin-top: 3px;">
					<h2 class="mb-0 _300">Liste des contrats</h2>
				    <small class="text-muted"><a style="font-size: 13px !important;" th:href="@{/}"><span class="nav-link-breadcrumb label">Tableau de bord</span></a> <span class="nav-link-breadcrumb label primary">Contrats</span></small>
				</div>
				<ul class="button_actions">
					<li><a href="#" ng-click="advancedSearchContractForm()" class="btn btn-fw success" style="background: #666666; min-width: 1rem; padding-left: 13px; padding-right: 13px;"><i class="fa fa-search"></i></a></li>
					<!-- <li><a href="#" ng-click="addContract()" class="btn btn-fw success"><i class="fa fa-plus"></i> &nbsp;<span>Nouveau</span></a></li> -->
					<li><a href="#" ng-click="importContracts()" class="btn btn-fw success"><i class="fa fa-upload"></i> &nbsp;<span>Importer</span></a></li>
					<li><a href="#" ng-click="" class="btn btn-fw orange"><i class="fa fa-download"></i> &nbsp;<span>Télécharger</span></a></li>
				</ul>
			</div>
			<div class="table-responsive">
				<table id="contractTable" ng-controller="contractTableController"
					th:attr="ng-init='init();'" class="table table-striped b-t b-b">
					<thead>
				    	<tr>
				        	<th>ID</th>
				            <th>Nº contrat</th>
				            <th>Date de début</th>
				            <th>Date de fin</th>
				            <th>Statut</th>
				            <th>Type</th>
				            <th>Matricule</th>
							<th>Règlement</th>
							<th>Raison sociale</th>
							<th>Société</th>
				            <th>Actions</th>
				        </tr>
				    </thead>
				</table>
			</div>
		</div>
    </div>
  </div>
  <!-- .modal -->
  <div id="advancedSearchContractModal" class="modal fade" data-backdrop="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Recherche avancée</h5>
						</div>
						<form method="post" ng-submit="advancedSearchContract()" class="form-horizontal" ui-jp="parsley">
							<div class="modal-body p-lg">
								<div class="row">
									<div ng-class="'col-md-12'">
										<div style="font-weight: normal; background: #ffe9b9; padding: 6px; margin-bottom: 6px;">Contrats</div>
									</div>
									<div ng-class="'col-md-12'">
										<div class="form-group">
									    	<label>Nº contrat</label>
									        <select id="code" class="form-control select2" style="width: 100%;" name="code" ng-model="search.code" ng-options="c.code as c.code for c in contractsList">
									        	<option value="">Choisir une option</option>
									        </select>
									    </div>
									</div>
									<div ng-class="'col-md-6'">
										<div class="form-group">
									    	<label>Status</label>
									        <select id="contractStatusId" class="form-control select2" style="width: 100%;" name="contractStatusId" ng-model="search.contractStatusId" ng-options="c.id as c.name for c in contractStatus">
									        	<option value="">Choisir une option</option>
									        </select>
									    </div>
									</div>
									<div ng-class="'col-md-6'">
										<div class="form-group">
									    	<label>Type</label>
									        <select id="contractTypeId" class="form-control select2" style="width: 100%;" name="contractTypeId" ng-model="search.contractTypeId" ng-options="c.id as c.name for c in contractTypes">
									        	<option value="">Choisir une option</option>
									        </select>
									    </div>
									</div>
									<div ng-class="'col-md-6'">
										<div class="form-group">
											<label>Date de début entre</label> <input
												type="text" class="form-control" name="startDateStart"
												ng-model="search.startDateStart" datepicker="datepicker" />
										</div>
									</div>
									<div ng-class="'col-md-6'">
										<div class="form-group">
											<label>ET</label> <input
												type="text" class="form-control" name="startDateEnd"
												ng-model="search.startDateEnd" datepicker="datepicker" />
										</div>
									</div>
									<div ng-class="'col-md-6'">
										<div class="form-group">
											<label>Date de fin entre</label> <input
												type="text" class="form-control" name="endDateStart"
												ng-model="search.endDateStart" datepicker="datepicker" />
										</div>
									</div>
									<div ng-class="'col-md-6'">
										<div class="form-group">
											<label>ET</label> <input
												type="text" class="form-control" name="endDateEnd"
												ng-model="search.endDateEnd" datepicker="datepicker" />
										</div>
									</div>
									<div ng-class="'col-md-6'">
										<div class="form-group">
									    	<label>Montant TTC</label>
									        <input type="text" class="form-control" name="amountTtc" ng-model="search.amountTtc" />
									    </div>
									</div>
									<div ng-class="'col-md-6'">
										<div class="form-group">
									    	<label>Règlement</label>
									        <select class="form-control" name="paymentMethodId" ng-model="search.paymentMethodId" ng-options="p.id as p.name for p in paymentMethods">
									        	<option value="">Choisir une option</option>
									        </select>
									    </div>
									</div>
								</div>
								<div class="row">
									<div ng-class="'col-md-12'">
										<div style="font-weight: normal; background: #ffe9b9; padding: 6px; margin-bottom: 6px;">Clients</div>
									</div>
									<div ng-class="'col-md-12'">
										<div class="form-group">
									    	<label>Raison sociale</label>
									        <select id="clientId" class="form-control select2" style="width: 100%;" name="clientId" ng-model="search.clientId" ng-options="c.id as c.companyName for c in clients">
									        	<option value="">Choisir une option</option>
									        </select>
									    </div>
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<a href="#" ng-click="advancedSearchContract()" class="btn success p-x-md">Rechercher</a>
								<input type="reset" class="btn warn p-x-md" value="Annuler" />
							</div>
						</form>
					</div>
					<!-- /.modal-content -->
				</div>
			</div>
  <div id="contractModal" class="modal fade" data-backdrop="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
      	  <h5 class="modal-title" ng-if="addContractForm">Enregistrement d'un contrat</h5>
      	  <h5 class="modal-title" ng-if="editContractForm">Modification d'un contrat</h5>
        </div>
        <form id="contractForm" name="contractForm" method="post" action="#" class="form-horizontal" ui-jp="parsley">
          <div class="modal-body p-lg">
            <div class="row">
			  <input type="hidden" ng-model="dto.id" />
			  <div ng-class="'col-md-12'">
			  	<p class="text-muted">Renseignez les champs obligatoires</p>
			  	<div ng-if="contractRequiredError" class="alert alert-danger" role="alert">
			  	  Veuillez remplir tous les champs obligatoires !
			  	</div>
			  	<div ng-if="contractTechnicalError" class="alert alert-danger" role="alert">
			  	  Un problème est survenu ! Merci de contacter votre administrateur.
			  	</div>
			  	<div ng-if="contractSuccess" class="alert alert-success" role="alert">
			  	  L'opération s'est effectuée avec succès !
			  	</div>
			  </div>
			  <div ng-class="'col-md-4'">
            	<div class="form-group">
              	  <label><span class="asterik"> * </span> Code</label>
                  <input type="text" class="form-control" name="name" ng-model="dto.code" required="required" />                        
                </div>
			  </div>
			  <div ng-class="'col-md-4'">
            	<div class="form-group">
              	  <label><span class="asterik"> * </span> KY</label>
                  <input type="text" class="form-control" name="ky" ng-model="dto.ky" required="required" />                        
                </div>
			  </div>
			  <div ng-class="'col-md-4'">
            	<div class="form-group">
              	  <label>Avenant</label>
                  <input type="text" class="form-control" name="name" ng-model="dto.avenant" />                        
                </div>
			  </div>
			  <div ng-class="'col-md-4'">
				<div class="form-group">
					<label>Immatriculation</label> <input
						type="text" class="form-control" name="matriculation" ng-model="dto.matriculation" />
				</div>
			  </div>
			  <div ng-class="'col-md-4'">
				<div class="form-group">
					<label>Modèle</label> <input
						type="text" class="form-control" name="model" ng-model="dto.model" />
				</div>
			  </div>
			  <div ng-class="'col-md-4'">
				<div class="form-group">
					<label>Client</label>
					<select class="form-control" name="clientId" ng-model="dto.clientId" ng-options="c.id as c.companyName for c in clients"></select>
				</div>
			  </div>
			  <div ng-class="'col-md-4'">
				<div class="form-group">
					<label>Date de début</label> <input
						type="text" class="form-control" name="startDate" datepicker="datepicker"
						ng-model="dto.startDate" />
				</div>
			  </div>
			  <div ng-class="'col-md-4'">
				<div class="form-group">
					<label>Date de fin prévisionnelle</label> <input
						type="text" class="form-control" name="endDate" datepicker="datepicker"
						ng-model="dto.endDate" />
				</div>
			  </div>
			  <div ng-class="'col-md-4'">
				<div class="form-group">
					<label>Date de fin réelle</label> <input
						type="text" class="form-control" name="effectiveEndDate" datepicker="datepicker"
						ng-model="dto.effectiveEndDate" />
				</div>
			  </div>
			  <div ng-class="'col-md-4'">
				<div class="form-group">
					<label>Type</label>
					<select class="form-control" name="contractTypeId" ng-model="dto.contractTypeId" ng-options="c.id as c.name for c in contractTypes"></select>
				</div>
			  </div>
			  <div ng-class="'col-md-4'">
				<div class="form-group">
					<label>Status</label>
					<select class="form-control" name="contractStatusId" ng-model="dto.contractStatusId" ng-options="c.id as c.name for c in contractStatus"></select>
				</div>
			  </div>
			  <div ng-class="'col-md-4'">
				<div class="form-group">
					<label>Commercial</label> <input
						type="text" class="form-control" name="commercial" ng-model="dto.commercial" />
				</div>
			  </div>
			  <div ng-class="'col-md-4'">
				<div class="form-group">
					<label>Montant TTC</label> <input
						type="text" class="form-control" name="amountTtc" ng-model="dto.amountTtc" />
				</div>
			  </div>
			  <div ng-class="'col-md-4'">
				<div class="form-group">
					<label>Règlement</label>
					<select class="form-control" name="paymentMethodId" ng-model="dto.paymentMethodId" ng-options="p.id as p.name for p in paymentMethods"></select>
				</div>
			  </div>
			  <div ng-class="'col-md-4'">
				<div class="form-group">
					<label>Echéance</label> <input
						type="text" class="form-control" name="paymentDue" ng-model="dto.paymentDue" />
				</div>
			  </div>
			</div>
          </div>
          <div class="modal-footer">
          	<a href="#" class="btn warn p-x-md" data-dismiss="modal">Annuler</a>
			<a href="#" ng-click="saveContract()" class="btn success p-x-md">Enregistrer</a>
          </div>
        </form>
      </div><!-- /.modal-content -->
    </div>
  </div>
  <div id="importContractsModal" class="modal" data-backdrop="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Importation des contrats</h5>
							<img ng-show="importing" style="float: left; max-height: 20px;" th:src="@{/resources/images/loading.gif}" />
						</div>
						<form id="importContractsForm" name="importContractsForm" method="post" action="#"
							class="form-horizontal" ui-jp="parsley">
							<div class="modal-body p-lg">
					            <div class="row">
								  <input type="hidden" ng-model="dto.id" />
								  <div ng-class="'col-md-12'">
								  	<p class="text-muted">Renseignez les champs obligatoires</p>
								  	<div ng-if="contractRequiredError" class="alert alert-danger" role="alert">
								  	  Veuillez remplir tous les champs obligatoires !
								  	</div>
								  	<div ng-if="contractTechnicalError" class="alert alert-danger" role="alert">
								  	  Un problème est survenu ! Merci de contacter votre administrateur.
								  	</div>
								  	<div ng-if="contractFileTypeError" class="alert alert-danger" role="alert">
								  	  Le format du fichier est invalide ! Merci de vérifier.
								  	</div>
								  	<div ng-if="contractSuccess" class="alert alert-success" role="alert">
								  	  L'opération s'est effectuée avec succès !
								  	</div>
								  </div>
								  <div ng-class="'col-md-12'">
								  	<div class="form-group">
					                  <label><span class="asterik"> * </span> Importer</label>
					                  <input type="file" class="form-control" id="contractFileInput" onchange="loadImportContracts()" accept="application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" />                        
					                </div>
								  </div>
								</div>
					          </div>
							<div class="modal-footer">
								<a href="#" class="btn warn p-x-md" data-dismiss="modal">Annuler</a>
								<a href="#" ng-click="saveImportContracts()" class="btn success p-x-md" ng-disabled="buttonDisabled">Enregistrer</a>
							</div>
						</form>
					</div>
					<!-- /.modal-content -->
				</div>
			</div>
			<div id="contractDetailModal" class="modal fade" data-backdrop="true">
				<div class="modal-dialog modal-lg modal-customized">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Contrat Nº {{contractDetail.code}}</h5>
						</div>
						<div class="modal-body p-lg">
							<div class="row">
								<div ng-class="'col-md-3'">
									<div class="form-group">
										KY :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{contractDetail.ky}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Avenant :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{contractDetail.avenant}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Immatriculation :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										<a href="#" class="amount-link" ng-click="showMatriculationDetail(contractDetail.matriculationId)">{{contractDetail.matriculationCode}}</a>
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Modèle :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										<strong>{{contractDetail.model}}</strong>
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Client :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{contractDetail.clientCompanyName}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Date de début :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{contractDetail.startDate}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Date de fin prévisionnelle :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{contractDetail.effectiveEndDate}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Date de fin réelle :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{contractDetail.endDate}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Type :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{contractDetail.contractTypeName}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Status :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{contractDetail.contractStatusName}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Commercial :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{contractDetail.commercial}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Montant TTC :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{contractDetail.amountTtc}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Règlement :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{contractDetail.paymentMethodDescription}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Echéance :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{contractDetail.paymentDue}}
									</div>
								</div>
							</div>
						</div>
						<div class="modal-footer">
							<a href="#" class="btn danger p-x-md" data-dismiss="modal">Fermer</a>
						</div>
					</div>
				</div>
			</div>
			<div id="matriculationDetailModal" class="modal fade" data-backdrop="true">
				<div class="modal-dialog modal-lg modal-customized">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Immatriculation Nº {{matriculationDetail.code}}</h5>
						</div>
						<div class="modal-body p-lg">
							<div class="row">
								<div ng-class="'col-md-3'">
									<div class="form-group">
										KY :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{matriculationDetail.ky}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Date :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{matriculationDetail.date}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Nº serie :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{matriculationDetail.serie}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Modèle :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										<strong>{{matriculationDetail.vehicleModel}}</strong>
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Société propriétaire :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{matriculationDetail.ownerCompanyName}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Société juridique :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{matriculationDetail.legalCompanyName}}
									</div>
								</div>
							</div>
						</div>
						<div class="modal-footer">
							<a href="#" class="btn danger p-x-md" data-dismiss="modal">Fermer</a>
						</div>
					</div>
				</div>
			</div>
  			<div id="clientDetailModal" class="modal fade" data-backdrop="true">
				<div class="modal-dialog modal-lg modal-client-customized">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Client Nº {{clientDetail.codeClient}}</h5>
							<span class="nav-link-breadcrumb label" style="float: right; padding-top: 5px; padding-bottom: 5px; background: {{clientDetail.clientCategoryColor}}"><i class="material-icons">&#xe153;</i> {{clientDetail.clientCategoryName}}</span>
						</div>
						<div class="modal-body p-lg">
							<div class="row">
								<div ng-class="'col-md-2'">
									<div class="form-group">
										N° ICE :
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										<span class="modal-item">{{clientDetail.iceNum}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										N° Registre de commerce :
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										<span class="modal-item">{{clientDetail.rcNum}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										Raison sociale :
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										<span class="modal-item">{{clientDetail.companyName}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										Nom commercial :
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										<span class="modal-item">{{clientDetail.commercialName}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										Forme juridique :
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										<span class="modal-item">{{clientDetail.legalFormName}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										Gouvernance :
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										<span class="modal-item">{{clientDetail.governanceName}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										Type :
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										<span class="modal-item">{{clientDetail.typeName}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										Identifiant fiscal :
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										<span class="modal-item">{{clientDetail.taxNum}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										N° Patente :
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										<span class="modal-item">{{clientDetail.patentNum}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										Statut :
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										<span class="modal-item">{{clientDetail.statusName}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										N° Téléphone 1 :
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										<span class="modal-item">{{clientDetail.phone1}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										N° Téléphone 2 :
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										<span class="modal-item">{{clientDetail.phone2}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										N° Fax :
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										<span class="modal-item">{{clientDetail.fax}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										Email :
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										<span class="modal-item">{{clientDetail.mail}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										Code postal :
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										<span class="modal-item">{{clientDetail.zipcode}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										Adresse :
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										<span class="modal-item">{{clientDetail.address}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										Pays :
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										<span class="modal-item">{{clientDetail.countryName}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										Ville :
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										<span class="modal-item">{{clientDetail.cityName}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										Délai de paiement :
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										<span class="modal-item">{{clientDetail.paymentDue}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										Règlement :
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										<span class="modal-item">{{clientDetail.paymentMethodDescription}}</span>
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										Devise :
									</div>
								</div>
								<div ng-class="'col-md-2'">
									<div class="form-group">
										<span class="modal-item">{{clientDetail.currencyName}}</span>
									</div>
								</div>
								
								<div ng-class="'col-md-12'">
									<div class="b-b nav-active-bg">
							          <ul class="nav nav-tabs-modal">
							            <li class="nav-item" style="width: 31%; text-align: center; margin: auto;">
							              <a class="nav-link active" href="#" data-toggle="tab" data-target="#clienttab1">Relances &amp; litiges</a>
							            </li>
							            <li class="nav-item" style="width: 23%; text-align: center; margin: auto;">
							              <a class="nav-link" href="#" data-toggle="tab" data-target="#clienttab2">Crédit risque </a>
							            </li>
							            <li class="nav-item" style="width: 25%; text-align: center; margin: auto;">
							              <a class="nav-link" href="#" data-toggle="tab" data-target="#clienttab3">Rapports et indicateurs</a>
							            </li>
							            <li class="nav-item" style="width: 21%; text-align: center; margin: auto;">
							              <a class="nav-link" href="#" data-toggle="tab" data-target="#clienttab4">Contacts</a>
							            </li>
							          </ul>
							        </div>
							        <div class="tab-content p-a m-b-md" style="background: #FFFFFF;">
							          <div class="tab-pane animated fadeIn active text-muted" id="clienttab1" style="padding: 10px;">
							          	  <small class="text-muted"><span class="nav-link-breadcrumb label primary">Liste des relances</span></small>
							              <div class="table-responsive" style="margin-top: 5px;">
										      <table id="reminderTable" ng-controller="reminderTableController"
													th:attr="ng-init='init();'" class="table table-striped b-t b-b">
										        <thead>
										          <tr>
										            <th>ID</th>
										            <th>Date</th>
										            <th>Action</th>
										            <th>Type d'action</th>
										            <th>Nom</th>
										            <th>N° Facture</th>
										            <th>Montant</th>
										          </tr>
										        </thead>
										      </table>
										  </div><br/>
										  <small class="text-muted"><span class="nav-link-breadcrumb label primary">Liste des dossiers de litiges en cours</span></small>
										  <div class="table-responsive" style="margin-top: 5px;">
										      <table id="litigationCurrentTable" ng-controller="litigationCurrentTableController"
													th:attr="ng-init='init();'" class="table table-striped b-t b-b">
										        <thead>
										          <tr>
										            <th>ID</th>
										            <th>Date litige</th>
										            <th>Code litige</th>
										            <th>N° Facture</th>
										            <th>Montant</th>
										          </tr>
										        </thead>
										      </table>
										    </div>
							          </div>
							          <div class="tab-pane animated fadeIn text-muted" id="clienttab2" style="padding: 10px;">
							          	<small class="text-muted"><span class="nav-link-breadcrumb label primary">Balance âgée</span></small>
							          	<div class="table-responsive" style="margin-top: 5px;">
											<table width="100%" id="outstandingStatusTable"
												ng-controller="outstandingStatusTableController"
												th:attr="ng-init='init();'"
												class="table table-striped b-t b-b">
												<thead>
													<tr>
														<th>ID</th>
														<th>Statut</th>
														<th>Encours accordé</th>
														<th>Encours réel</th>
														<th>Encours non échu</th>
														<th>Dépassement</th>
														<th>Total Retard</th>
														<th>Retard &lt; à 30 jrs</th>
														<th>Retard entre 30 et 90 jrs</th>
														<th>Retard &gt; à 90 jrs</th>
													</tr>
												</thead>
											</table>
										</div><br/>
										<small class="text-muted"><span class="nav-link-breadcrumb label primary">Encours client</span></small>
										<div class="table-responsive" style="margin-top: 5px;">
											<table width="100%" id="outstandingTable"
												ng-controller="outstandingTableController"
												th:attr="ng-init='init();'"
												class="table table-striped b-t b-b">
												<thead>
													<tr>
														<th>ID</th>
														<th>Statut</th>
														<th>Montant demandé</th>
														<th>Montant accordé</th>
														<th>Eligibilité</th>
														<th>Assureur</th>
														<th>Montant de l'agrément</th>
													</tr>
												</thead>
											</table>
										</div>
							          </div>
							          <div class="tab-pane animated fadeIn text-muted" id="clienttab3" style="padding: 10px;">
							            
							          </div>
							          <div class="tab-pane animated fadeIn text-muted" id="clienttab4" style="padding: 10px;">
							             <div class="table-responsive">
											<table width="100%" id="contactTable"
												ng-controller="contactTableController"
												th:attr="ng-init='init();'"
												class="table table-striped b-t b-b">
												<thead>
													<tr>
														<th>ID</th>
														<th>Nom</th>
														<th>Prénom</th>
														<th>Fonction</th>
														<th>N° Téléphone</th>
														<th>Email</th>
													</tr>
												</thead>
											</table>
										</div>
							          </div>
							        </div>
								</div>
							</div>
						</div>
						<div class="modal-footer">
							<a href="#" class="btn danger p-x-md" data-dismiss="modal">Fermer</a>
						</div>
					</div>
				</div>
			</div>
			<div id="invoiceTotalModal" class="modal fade" data-backdrop="true">
				<div class="modal-dialog modal-lg modal-customized">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Liste de factures en attente de règlement</h5>
						</div>
						<form name="" method="post" action="#" class="form-horizontal" ui-jp="parsley">
				          <div class="modal-body p-lg">
				            <div class="row">
							  <div ng-class="'col-md-12'">
								<div class="table-responsive">
									<table width="100%" id="invoiceTotalTable"
										ng-controller="invoiceTotalTableController"
										th:attr="ng-init='init();'"
										class="table table-striped b-t b-b">
										<thead>
											<tr>
												<th>ID</th>
												<th>Statut</th>
												<th>Echéance</th>
												<th>Date de facturation</th>
												<th>N° Facture</th>
												<th>Montant initial TTC</th>
												<th>Montant restant TTC</th>
											</tr>
										</thead>
									</table>
								</div>
							  </div>
							</div>
				          </div>
				          <div class="modal-footer">
				          	<a href="#" class="btn danger p-x-md" data-dismiss="modal">Fermer</a>
				          </div>
				        </form>
					</div>
				</div>
			</div>
			<div id="invoiceNotOverdueModal" class="modal fade" data-backdrop="true">
				<div class="modal-dialog modal-lg modal-customized">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Liste de factures non échues en attente de règlement</h5>
						</div>
						<form name="" method="post" action="#" class="form-horizontal" ui-jp="parsley">
				          <div class="modal-body p-lg">
				            <div class="row">
							  <div ng-class="'col-md-12'">
								<div class="table-responsive">
									<table width="100%" id="invoiceNotOverdueTable"
										ng-controller="invoiceNotOverdueTableController"
										th:attr="ng-init='init();'"
										class="table table-striped b-t b-b">
										<thead>
											<tr>
												<th>ID</th>
												<th>Statut</th>
												<th>Echéance</th>
												<th>Date de facturation</th>
												<th>N° Facture</th>
												<th>Montant initial TTC</th>
												<th>Montant restant TTC</th>
											</tr>
										</thead>
									</table>
								</div>
							  </div>
							</div>
				          </div>
				          <div class="modal-footer">
				          	<a href="#" class="btn danger p-x-md" data-dismiss="modal">Fermer</a>
				          </div>
				        </form>
					</div>
				</div>
			</div>
			<div id="invoiceOverdueModal" class="modal fade" data-backdrop="true">
				<div class="modal-dialog modal-lg modal-customized">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Liste de factures échues en attente de règlement</h5>
						</div>
						<form name="" method="post" action="#" class="form-horizontal" ui-jp="parsley">
				          <div class="modal-body p-lg">
				            <div class="row">
							  <div ng-class="'col-md-12'">
								<div class="table-responsive">
									<table width="100%" id="invoiceOverdueTable"
										ng-controller="invoiceOverdueTableController"
										th:attr="ng-init='init();'"
										class="table table-striped b-t b-b">
										<thead>
											<tr>
												<th>ID</th>
												<th>Statut</th>
												<th>Echéance</th>
												<th>Date de facturation</th>
												<th>N° Facture</th>
												<th>Montant initial TTC</th>
												<th>Montant restant TTC</th>
											</tr>
										</thead>
									</table>
								</div>
							  </div>
							</div>
				          </div>
				          <div class="modal-footer">
				          	<a href="#" class="btn danger p-x-md" data-dismiss="modal">Fermer</a>
				          </div>
				        </form>
					</div>
				</div>
			</div>
			<div id="invoiceOverdue30Modal" class="modal fade" data-backdrop="true">
				<div class="modal-dialog modal-lg modal-customized">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Liste de factures échues à moins de 30 jours en attente de règlement</h5>
						</div>
						<form name="" method="post" action="#" class="form-horizontal" ui-jp="parsley">
				          <div class="modal-body p-lg">
				            <div class="row">
							  <div ng-class="'col-md-12'">
								<div class="table-responsive">
									<table width="100%" id="invoiceOverdue30Table"
										ng-controller="invoiceOverdue30TableController"
										th:attr="ng-init='init();'"
										class="table table-striped b-t b-b">
										<thead>
											<tr>
												<th>ID</th>
												<th>Statut</th>
												<th>Echéance</th>
												<th>Date de facturation</th>
												<th>N° Facture</th>
												<th>Montant initial TTC</th>
												<th>Montant restant TTC</th>
											</tr>
										</thead>
									</table>
								</div>
							  </div>
							</div>
				          </div>
				          <div class="modal-footer">
				          	<a href="#" class="btn danger p-x-md" data-dismiss="modal">Fermer</a>
				          </div>
				        </form>
					</div>
				</div>
			</div>
			<div id="invoiceOverdue60Modal" class="modal fade" data-backdrop="true">
				<div class="modal-dialog modal-lg modal-customized">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Liste de factures échues entre 30 et 90 jours en attente de règlement</h5>
						</div>
						<form name="" method="post" action="#" class="form-horizontal" ui-jp="parsley">
				          <div class="modal-body p-lg">
				            <div class="row">
							  <div ng-class="'col-md-12'">
								<div class="table-responsive">
									<table width="100%" id="invoiceOverdue60Table"
										ng-controller="invoiceOverdue60TableController"
										th:attr="ng-init='init();'"
										class="table table-striped b-t b-b">
										<thead>
											<tr>
												<th>ID</th>
												<th>Statut</th>
												<th>Echéance</th>
												<th>Date de facturation</th>
												<th>N° Facture</th>
												<th>Montant initial TTC</th>
												<th>Montant restant TTC</th>
											</tr>
										</thead>
									</table>
								</div>
							  </div>
							</div>
				          </div>
				          <div class="modal-footer">
				          	<!-- <div style="float: left; text-align: left">
				          		<span ng-if="dto.invoice.id" style="padding-top: 5px; padding-bottom: 7px; margin-left: 10px;" class="alert alert-info">
			                      Nombre de relances : <span class="alert-stats">{{invoiceReminderNum}}</span>
			                    </span>
			                    <span ng-if="dto.invoice.id" style="padding-top: 5px; padding-bottom: 7px; margin-left: 10px;" class="alert alert-info">
			                      Nombre de litiges : <span class="alert-stats">{{invoiceLitigationNum}}</span>
			                    </span>
				          	</div>
				          	<a href="#" class="btn warn p-x-md" data-dismiss="modal">Déclasser en litige</a> -->
				          	<a href="#" class="btn danger p-x-md" data-dismiss="modal">Fermer</a>
				          </div>
				        </form>
					</div>
				</div>
			</div>
			<div id="invoiceOverdue90Modal" class="modal fade" data-backdrop="true">
				<div class="modal-dialog modal-lg modal-customized">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Liste de factures échues à plus de 90 jours en attente de règlement</h5>
						</div>
						<form name="" method="post" action="#" class="form-horizontal" ui-jp="parsley">
				          <div class="modal-body p-lg">
				            <div class="row">
							  <div ng-class="'col-md-12'">
								<div class="table-responsive">
									<table width="100%" id="invoiceOverdue90Table"
										ng-controller="invoiceOverdue90TableController"
										th:attr="ng-init='init();'"
										class="table table-striped b-t b-b">
										<thead>
											<tr>
												<th>ID</th>
												<th>Statut</th>
												<th>Echéance</th>
												<th>Date de facturation</th>
												<th>N° Facture</th>
												<th>Montant initial TTC</th>
												<th>Montant restant TTC</th>
											</tr>
										</thead>
									</table>
								</div>
							  </div>
							</div>
				          </div>
				          <div class="modal-footer">
				          	<a href="#" class="btn danger p-x-md" data-dismiss="modal">Fermer</a>
				          </div>
				        </form>
					</div>
				</div>
			</div>
			<div id="invoiceDetailModal" class="modal fade" data-backdrop="true">
				<div class="modal-dialog modal-lg modal-customized">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Facture Nº {{dto.invoiceDetail.code}}</h5>
							<span class="nav-link-breadcrumb label primary" style="float: right; padding-top: 5px; padding-bottom: 5px">Client : {{dto.invoiceDetail.clientCompanyName}}</span>
						</div>
						<div class="modal-body p-lg">
							<div class="row">
								<div ng-class="'col-md-12'">
									<div class="form-group {{dto.invoiceDetail.invoiceStatusColor}} align-center">
										{{dto.invoiceDetail.invoiceStatusText}}
									</div>
								</div>
							</div>
							<div class="row">
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Date de facturation :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{dto.invoiceDetail.invoiceDate}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Date d'échéance :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{dto.invoiceDetail.dueDate}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Montant initial TTC :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{dto.invoiceDetail.amountTtc}} {{dto.invoiceDetail.currencySymbol}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Montant restant TTC :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										<strong>{{dto.invoiceDetail.remainingAmount}} {{dto.invoiceDetail.currencySymbol}}</strong>
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Type de facturation :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{dto.invoiceDetail.invoiceTypeName}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Règlement :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										{{dto.invoiceDetail.paymentMethodDescription}}
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Commercial :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
										Chargé de recouvrement :
									</div>
								</div>
								<div ng-class="'col-md-3'">
									<div class="form-group">
									</div>
								</div>
								<div ng-class="'col-md-12'">
									<div class="b-b nav-active-bg">
							          <ul class="nav nav-tabs-modal">
							            <li class="nav-item" style="width: 31%; text-align: center; margin: auto;">
							              <a class="nav-link active" href="#" data-toggle="tab" data-target="#invoicetab1">Historique des relances <span ng-if="invoiceReminderNum == 0" class="label rounded" style="font-size: 12px; margin-left: 3px;">{{invoiceReminderNum}}</span><span ng-if="invoiceReminderNum != 0" class="label rounded primary" style="font-size: 12px; margin-left: 3px;">{{invoiceReminderNum}}</span></a>
							            </li>
							            <li class="nav-item" style="width: 23%; text-align: center; margin: auto;">
							              <a class="nav-link" href="#" data-toggle="tab" data-target="#invoicetab2">Promesses <span ng-if="invoicePromiseNum == 0" class="label rounded" style="font-size: 12px; margin-left: 3px;">{{invoicePromiseNum}}</span><span ng-if="invoicePromiseNum != 0" class="label rounded primary" style="font-size: 12px; margin-left: 3px;">{{invoicePromiseNum}}</span></a>
							            </li>
							            <li class="nav-item" style="width: 23%; text-align: center; margin: auto;">
							              <a class="nav-link" href="#" data-toggle="tab" data-target="#invoicetab3">Litiges <span ng-if="invoiceLitigationNum == 0" class="label rounded" style="font-size: 12px; margin-left: 3px;">{{invoiceLitigationNum}}</span><span ng-if="invoiceLitigationNum != 0" class="label rounded primary" style="font-size: 12px; margin-left: 3px;">{{invoiceLitigationNum}}</span></a>
							            </li>
							            <li class="nav-item" style="width: 23%; text-align: center; margin: auto;">
							              <a class="nav-link" href="#" data-toggle="tab" data-target="#invoicetab4">Contentieux <span ng-if="invoiceContenceNum == 0" class="label rounded" style="font-size: 12px; margin-left: 3px;">{{invoiceContenceNum}}</span><span ng-if="invoiceContenceNum != 0" class="label rounded primary" style="font-size: 12px; margin-left: 3px;">{{invoiceContenceNum}}</span></a>
							            </li>
							          </ul>
							        </div>
							        <div class="tab-content p-a m-b-md" style="background: #FFFFFF;">
							          <div class="tab-pane animated fadeIn active text-muted" id="invoicetab1" style="padding: 10px;">
							            <div class="table-responsive">
											<table width="100%" id="reminderInvoiceTable" ng-controller="reminderInvoiceTableController"
												th:attr="ng-init='init();'" class="table table-striped b-t b-b">
									        <thead>
									          <tr>
									            <th>ID</th>
									            <th>Date</th>
									            <th>Action</th>
									            <th>Type d'action</th>
									            <th>Nom</th>
									          </tr>
									        </thead>
									      </table>
										</div>
							          </div>
							          <div class="tab-pane animated fadeIn text-muted" id="invoicetab2" style="padding: 10px;">
							            <div class="table-responsive">
											<table width="100%" id="promiseInvoiceTable" ng-controller="promiseInvoiceTableController"
												th:attr="ng-init='init();'" class="table table-striped b-t b-b">
									        <thead>
									          <tr>
									            <th>ID</th>
									            <th>Statut</th>
									            <th>Date</th>
									            <th>Date prévue</th>
									            <th>Nom</th>
									            <th>Commentaires</th>
									          </tr>
									        </thead>
									      </table>
										</div>
							          </div>
							          <div class="tab-pane animated fadeIn text-muted" id="invoicetab3" style="padding: 10px;">
							            <div class="table-responsive">
											<table width="100%" id="litigationInvoiceTable" ng-controller="litigationInvoiceTableController"
												th:attr="ng-init='init();'" class="table table-striped b-t b-b">
									        <thead>
									          <tr>
									            <th>ID</th>
									            <th>Statut</th>
									            <th>Date</th>
									            <th>Nom</th>
									            <th>Commentaires</th>
									          </tr>
									        </thead>
									      </table>
										</div>
							          </div>
							          <div class="tab-pane animated fadeIn text-muted" id="invoicetab4" style="padding: 10px;">
							             <div class="table-responsive">
										  <table width="100%" id="contenceInvoiceTable" ng-controller="contenceInvoiceTableController"
												th:attr="ng-init='init();'" class="table table-striped b-t b-b">
									        <thead>
									          <tr>
									            <th>ID</th>
									            <th>Statut</th>
									            <th>Date</th>
									            <th>Nº Affaire</th>
									            <th>Avocat</th>
									            <th>Tribunal de compétences</th>
									          </tr>
									        </thead>
									      </table>
										</div>
							          </div>
							        </div>
								</div>
							</div>
						</div>
						<div class="modal-footer">
							<a href="#" class="btn info p-x-md" ng-click="addPromise()">Ajouter une promesse de règlement</a>
							<a href="#" class="btn warn p-x-md" ng-click="addLitigation(dto.invoiceDetail.id)">Déclasser en litige</a>
							<a href="#" class="btn orange p-x-md" ng-click="addContence()">Déclasser en contentieux</a>
							<a href="#" class="btn danger p-x-md" data-dismiss="modal">Fermer</a>
						</div>
					</div>
				</div>
			</div>
			<div id="litigationModal" class="modal fade" data-backdrop="true">
			    <div class="modal-dialog">
			      <div class="modal-content">
			        <div class="modal-header">
			      	  <h5 class="modal-title" ng-if="addLitigationForm">Enregistrement d'un litige</h5>
			      	  <h5 class="modal-title" ng-if="editLitigationForm">Modification d'un litige</h5>
			        </div>
			        <form id="litigationForm" name="litigationForm" method="post" action="#" class="form-horizontal" ui-jp="parsley">
			          <div class="modal-body p-lg">
			            <div class="row">
						  <input type="hidden" ng-model="dto.id" />
						  <div ng-class="'col-md-12'">
						  	<p class="text-muted">Renseignez les champs obligatoires</p>
						  	<div ng-if="litigationRequiredError" class="alert alert-danger" role="alert">
						  	  Veuillez remplir tous les champs obligatoires !
						  	</div>
						  	<div ng-if="litigationTechnicalError" class="alert alert-danger" role="alert">
						  	  Un problème est survenu ! Merci de contacter votre administrateur.
						  	</div>
						  	<div ng-if="litigationSuccess" class="alert alert-success" role="alert">
						  	  L'opération s'est effectuée avec succès !
						  	</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> N° Facture</label> <select
									class="form-control" name="invoice" ng-model="dto.litigation.invoiceId" ng-change="loadByInvoice(dto.litigation.invoiceId)"
									ng-options="i.id as i.code for i in invoices" required="required">
										<option value="">Choisir une option</option>
									</select>
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Montant de la facture</label> <input
									type="text" class="form-control" name="amount"
									ng-model="dto.litigation.amount" required="required" ng-readonly="true" />
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Date d'échéance</label> <input
									type="text" class="form-control" name="dueDate" datepicker="datepicker"
									ng-model="dto.litigation.dueDate" required="required" ng-readonly="true" />
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Nom du client</label> <input
									type="text" class="form-control" name="clientCompanyName"
									ng-model="dto.litigation.clientCompanyName" required="required" ng-readonly="true" />
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Date de litige</label> <input
									type="text" class="form-control" name="date" datepicker="datepicker"
									ng-model="dto.litigation.date" required="required" />
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Status</label> <select
									class="form-control" name="litigationStatus" ng-model="dto.litigation.litigationStatusId"
									ng-options="l.id as l.name for l in litigationStatus" required="required">
										<option value="">Choisir une option</option>
									</select>
							</div>
						  </div>
						  <div ng-class="'col-md-12'">
							<div class="form-group">
								<label>Commentaires</label> <textarea
									type="text" class="form-control" name="comment"
									ng-model="dto.litigation.comment"></textarea>
							</div>
						  </div>
						</div>
			          </div>
			          <div class="modal-footer">
			          	<a href="#" class="btn warn p-x-md" data-dismiss="modal">Annuler</a>
			            <a href="#" ng-click="saveLitigation()" class="btn info p-x-md">Enregistrer</a>
			          </div>
			        </form>
			      </div><!-- /.modal-content -->
			    </div>
			  </div>
			  <div id="contenceModal" class="modal fade" data-backdrop="true">
			    <div class="modal-dialog">
			      <div class="modal-content">
			        <div class="modal-header">
			      	  <h5 class="modal-title" ng-if="addContenceForm">Enregistrement d'un dossier de contentieux</h5>
			      	  <h5 class="modal-title" ng-if="editContenceForm">Modification d'un dossier de contentieux</h5>
			        </div>
			        <form id="contenceForm" name="contenceForm" method="post" action="#" class="form-horizontal" ui-jp="parsley">
			          <div class="modal-body p-lg">
			            <div class="row">
						  <input type="hidden" ng-model="dto.id" />
						  <div ng-class="'col-md-12'">
						  	<p class="text-muted">Renseignez les champs obligatoires</p>
						  	<div ng-if="contenceRequiredError" class="alert alert-danger" role="alert">
						  	  Veuillez remplir tous les champs obligatoires !
						  	</div>
						  	<div ng-if="contenceTechnicalError" class="alert alert-danger" role="alert">
						  	  Un problème est survenu ! Merci de contacter votre administrateur.
						  	</div>
						  	<div ng-if="contenceSuccess" class="alert alert-success" role="alert">
						  	  L'opération s'est effectuée avec succès !
						  	</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label>N° Affaire</label> <input
									type="text" class="form-control" name="code"
									ng-model="dto.contence.code" ng-readonly="true" />
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> N° Facture</label> <select
									class="form-control" name="invoice" ng-model="dto.contence.invoiceId"
									ng-options="i.id as i.code for i in invoices" required="required"></select>
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Montant de la facture</label> <input
									type="text" class="form-control" name="amount"
									ng-model="dto.contence.amount" required="required" ng-readonly="true" />
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Nom du client</label> <input
									type="text" class="form-control" name="clientCompanyName"
									ng-model="dto.contence.clientCompanyName" required="required" ng-readonly="true" />
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Date</label> <input
									type="text" class="form-control" name="date" datepicker="datepicker"
									ng-model="dto.contence.date" required="required" />
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Status</label> <select
									class="form-control" name="contenceStep" ng-model="dto.contence.contenceStepId"
									ng-options="l.id as l.name for l in contenceSteps" required="required"></select>
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Avocat</label> <select
									class="form-control" name="lawyer" ng-model="dto.contence.lawyerId"
									ng-options="u.id as (u.prenom+' '+u.nom) for u in users" required="required"></select>
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label>Chargé de suivi</label> <select
									class="form-control" name="recoveryUser" ng-model="dto.contence.recoveryUserId"
									ng-options="u.id as (u.prenom+' '+u.nom) for u in users"></select>
							</div>
						  </div>
						  <div ng-class="'col-md-12'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Tribunal de commerce</label> <select
									class="form-control" name="commercialCourt" ng-model="dto.contence.commercialCourtId"
									ng-options="l.id as l.name for l in commercialCourts" required="required"></select>
							</div>
						  </div>
						  <div ng-class="'col-md-12'">
							<div class="form-group">
								<label>Commentaires</label> <textarea
									type="text" class="form-control" name="comment"
									ng-model="dto.contence.comment"></textarea>
							</div>
						  </div>
						</div>
			          </div>
			          <div class="modal-footer">
			          	<a href="#" class="btn warn p-x-md" data-dismiss="modal">Annuler</a>
			            <a href="#" ng-click="saveContence()" class="btn info p-x-md">Enregistrer</a>
			          </div>
			        </form>
			      </div><!-- /.modal-content -->
			    </div>
			  </div>
			<div id="promiseModal" class="modal fade" data-backdrop="true">
			    <div class="modal-dialog">
			      <div class="modal-content">
			        <div class="modal-header">
			      	  <h5 class="modal-title" ng-if="addPromiseForm">Enregistrement d'une promesse de règlement</h5>
			      	  <h5 class="modal-title" ng-if="editPromiseForm">Modification d'une promesse de règlement</h5>
			        </div>
			        <form id="promiseForm" name="promiseForm" method="post" action="#" class="form-horizontal" ui-jp="parsley">
			          <div class="modal-body p-lg">
			            <div class="row">
						  <input type="hidden" ng-model="dto.id" />
						  <div ng-class="'col-md-12'">
						  	<p class="text-muted">Renseignez les champs obligatoires</p>
						  	<div ng-if="promiseRequiredError" class="alert alert-danger" role="alert">
						  	  Veuillez remplir tous les champs obligatoires !
						  	</div>
						  	<div ng-if="promiseTechnicalError" class="alert alert-danger" role="alert">
						  	  Un problème est survenu ! Merci de contacter votre administrateur.
						  	</div>
						  	<div ng-if="promiseSuccess" class="alert alert-success" role="alert">
						  	  L'opération s'est effectuée avec succès !
						  	</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> N° Facture</label> <select
									class="form-control" name="invoice" ng-model="dto.promise.invoiceId"
									ng-options="i.id as i.code for i in invoices" required="required" ng-disabled="true">
										<option value="">Choisir une option</option>
									</select>
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Montant de la facture</label> <input
									type="text" class="form-control" name="amount"
									ng-model="dto.promise.amount" required="required" ng-readonly="true" />
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Date d'échéance</label> <input
									type="text" class="form-control" name="dueDate" datepicker="datepicker"
									ng-model="dto.promise.dueDate" required="required" ng-readonly="true" />
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Nom du client</label> <input
									type="text" class="form-control" name="clientCompanyName"
									ng-model="dto.promise.clientCompanyName" required="required" ng-readonly="true" />
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Date</label> <input
									type="text" class="form-control" name="date" datepicker="datepicker"
									ng-model="dto.promise.date" required="required" />
							</div>
						  </div>
						  <div ng-class="'col-md-6'">
							<div class="form-group">
								<label><span class="asterik"> * </span> Date prévue de règlement</label> <input
									type="text" class="form-control" name="predictedDate" datepicker="datepicker"
									ng-model="dto.promise.predictedDate" required="required" />
							</div>
						  </div>
						  <div ng-class="'col-md-12'">
							<div class="form-group">
								<label>Commentaires</label> <textarea
									type="text" class="form-control" name="comment"
									ng-model="dto.promise.comment"></textarea>
							</div>
						  </div>
						</div>
			          </div>
			          <div class="modal-footer">
			          	<a href="#" class="btn warn p-x-md" data-dismiss="modal">Annuler</a>
			            <a href="#" ng-click="savePromise()" class="btn info p-x-md">Enregistrer</a>
			          </div>
			        </form>
			      </div><!-- /.modal-content -->
			    </div>
			  </div>
  <!-- / .modal -->
  </div>
</div>
<div layout:fragment="plugins" class="page-content">
	<script th:src='@{/resources/js/client/contract.js}'></script>
</div>
</body>
</html>