<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
<title></title>
</head>
<body>
	<th:block th:fragment="documentDataTable">
		<div class="row" ng-controller="documentTableController"
			th:attr="ng-init='initForm('+${GED_AJOUT}+');'">
			<div class="theme-panel"
				ng-show="selected!=null || (gedDocuments !== undefined &amp;&amp; gedDocuments !== null)">
				<!-- 				<a href="javascript:;" data-click="theme-panel-expand" -->
				<!-- 					class="theme-collapse-btn "><i class="fa fa-folder"></i></a> -->
				<div class="theme-panel-content">
					<h5 class="modal-title">
						<th:block th:text="#{commun.gedDocumentGed.table}"></th:block>
						<span ng-show="popupLibelle != null"> « {{popupLibelle}} »
						</span>
					</h5>
					<div class="divider"></div>
					<div class="pull-left">
						<button type="button" th:if="${GED_AJOUT}" ng-if="edit"
							class="btn btn-default btn-icon btn-circle btn-sm"
							ng-click="open()">
							<i class="fa fa-plus"></i>
						</button>
					</div>
					<table id="documentTable"
						class="table table-striped table-bordered"
						th:attr="ng-init='init('+${idEntite}+');'">
						<thead>
							<tr>
								<th>Code</th>
								<th th:text="#{commun.gedDocumentGed.table.libelle}"></th>
								<th th:text="#{commun.gedDocumentGed.table.typeDocument}"></th>
								<th th:text="#{commun.gedDocumentGed.table.observation}"></th>
								<th th:text="#{commun.gedDocumentGed.table.dateDocument}"></th>
								<th class="actions noVis"></th>
							</tr>
						</thead>
					</table>
				</div>
			</div>

			<div class="modal fade" id="myModal" tabindex="-1" role="dialog">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="bootbox-close-button close"
								data-dismiss="modal" aria-hidden="true">×</button>
							<h4 class="modal-title">
								<th:block th:text="#{commun.gedDocumentGed}"></th:block>
								<span ng-show="popupLibelle != null"> « {{popupLibelle}}
									» </span>
							</h4>
						</div>
						<div class="modal-body">
							<div class="bootbox-body">
								<form id="documentForm" name="documentForm" method="POST"
									enctype="multipart/form-data" class="form-horizontal">
									<div class="panel panel-inverse"
										data-sortable-id="ui-widget-10">
										<div class="panel-body">
											<div class="row">
												<div ng-class="'col-md-12'">
													<div class="form-group">
														<label class="col-md-4 control-label"> <th:block
																th:text="#{commun.gedDocumentGed.typeDocument}"></th:block>
															<span class="asterik"> * </span>
														</label>
														<div class="col-md-8">
															<select name="gedTypeDocumentId" ng-required="true"
																ng-model="documentDto.gedTypeDocumentId"
																ng-options="o.id as o.typeDocument for o in typesDocuments track by o.id"
																class="form-control">
															</select>
														</div>
													</div>
													<div class="form-group">
														<label class="col-md-4 control-label"> <th:block
																th:text="#{commun.gedDocumentGed.dateDocument}"></th:block>
															<span class="asterik"> * </span></label>
														<div class="col-md-8">
															<input type="text" datepicker="datepicker"
																class="form-control" name="dateDocument"
																ng-model="documentDto.dateDocument" required="required" />
														</div>
													</div>

													<div class="form-group">
														<label class="col-md-4 control-label"> <th:block
																th:text="#{commun.gedDocumentGed.observation}"></th:block>
														</label>
														<div class="col-md-8">
															<textarea class="form-control noresize"
																name="observation" ng-model="documentDto.observation"
																rows="2"></textarea>
														</div>
													</div>

													<div class="form-group file-group">
														<label class="col-md-4 control-label"> <th:block
																th:text="#{commun.gedDocumentGed.document}"></th:block><span
															class="asterik"> * </span>
														</label>
														<div class="col-md-8">
															<input type="file" id="document" name="document"
																ng-model="document" />
															<div class="input-group">
																<input type="text" ng-model="documentDto.fileName"
																	class="form-control file-group-label"
																	ng-required="!documentDto.documentId"
																	disabled="disabled" /> <span class="input-group-btn">
																	<button type="button"
																		class="btn btn-default file-group-btn"
																		ng-click="upload()"
																		ng-disabled="documentDto.documentId">
																		<i class="fa fa-folder-open-o"></i>
																	</button>
																</span>
															</div>
														</div>
													</div>

													<!-- 													<div class="form-group"> -->
													<!-- 														<label class="col-md-4 control-label"> <th:block -->
													<!-- 																th:text="#{commun.gedDocumentGed.codeDocument}"></th:block> -->
													<!-- 															<span class="asterik"> * </span></label> -->
													<!-- 														<div class="col-md-8"> -->
													<!-- 															<input type="text" class="form-control" name="documentId" -->
													<!-- 																ng-model="documentDto.documentId" ng-disabled="documentDto.fileName" -->
													<!-- 																ng-required="!documentDto.fileName"/> -->
													<!-- 														</div> -->
													<!-- 													</div> -->

												</div>
											</div>
										</div>
									</div>
								</form>
							</div>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" ng-click="close()">Annuler</button>
							<button type="button" class="btn btn-primary" ng-click="add()">Ajouter</button>
						</div>
					</div>
				</div>
			</div>




			<div class="modal fade" id="myMediathequeModal" tabindex="-1"
				role="dialog">
				<div class="modal-dialog" style="width: 60%">
					<div class="modal-content">
						<div class="modal-header aman-blue-color">
							<button type="button" class="bootbox-close-button close"
								data-dismiss="modal" aria-hidden="true">×</button>
							<h4 class="modal-title">
								<th:block th:text="#{commun.mediatheque}"></th:block>
								<span ng-show="mediathequePopupLibelle != null"> «
									{{mediathequePopupLibelle}} » </span>
							</h4>
						</div>
						<div class="modal-body">
							<div class="bootbox-body">
								<form id="mediathequeForm" name="mediathequeForm" method="POST"
									enctype="multipart/form-data" class="form-horizontal">
									<div class="panel panel-inverse"
										data-sortable-id="ui-widget-10">
										<div class="panel-body">
											<div class="row">
												<div ng-class="'col-md-5'">
													<div class="row divImage">
														<img id="imagePreview" />
													</div>
													<div class="row">
														<label class="col-md-4 control-label"
															th:text="#{commun.mediatheque.nomFichier}"></label> :
														{{documentDto.fileName}}
													</div>
													<div class="row">
														<label class="col-md-4 control-label"
															th:text="#{commun.mediatheque.typeFichier}"></label> :
														{{documentDto.fileType}}
													</div>
													<div class="row">
														<label class="col-md-4 control-label"
															th:text="#{commun.mediatheque.dimensions}"></label> :
														{{documentDto.dimensions}}
													</div>
												</div>
												<div ng-class="'col-md-7'">
													<div class="form-group file-group">
														<label class="col-md-4 control-label"> <th:block
																th:text="#{commun.gedDocumentGed.document}"></th:block><span
															class="asterik"> * </span>
														</label>
														<div class="col-md-8">
															<input type="file" id="documentMediatheque"
																name="documentMediatheque"
																ng-model="documentMediatheque" accept="image/*,video/*" />
															<div class="input-group">
																<input type="text" ng-model="documentDto.fileName"
																	class="form-control file-group-label"
																	disabled="disabled" /> <span class="input-group-btn">
																	<button type="button"
																		class="btn btn-default file-group-btn"
																		ng-click="uploadMediatheque()"
																		ng-disabled="documentDto.documentId">
																		<i class="fa fa-folder-open-o"></i>
																	</button>
																</span>
															</div>
														</div>
													</div>

													<div class="form-group">
														<label class="col-md-4 control-label"> <th:block
																th:text="#{commun.mediatheque.titre}"></th:block> <span
															class="asterik"> * </span>
														</label>
														<div class="col-md-8">
															<input type="text" class="form-control" name="titre"
																ng-model="documentDto.titre" required="required" />
														</div>
													</div>

													<div class="form-group">
														<label class="col-md-4 control-label"> <th:block
																th:text="#{commun.mediatheque.date}"></th:block> <span
															class="asterik"> * </span>
														</label>
														<div class="col-md-8">
															<input type="text" datepicker="datepicker"
																class="form-control" name="dateDocument"
																ng-model="documentDto.dateDocument" required="required" />
														</div>
													</div>

													<!-- 													<div class="form-group"> -->
													<!-- 														<label class="col-md-4 control-label"> <th:block -->
													<!-- 																th:text="#{commun.mediatheque.titre}"></th:block> -->
													<!-- 															<span class="asterik"> * </span> -->
													<!-- 														</label> -->
													<!-- 														<div class="col-md-8"> -->
													<!-- 															<input type="text" class="form-control" name="titre" -->
													<!-- 																ng-model="documentDto.titre" required="required"/> -->
													<!-- 														</div> -->
													<!-- 													</div> -->

													<div class="form-group">
														<label class="col-md-4 control-label"> <th:block
																th:text="#{commun.mediatheque.description}"></th:block>
														</label>
														<div class="col-md-8">
															<textarea class="form-control noresize"
																name="observation" ng-model="documentDto.observation"
																rows="6"></textarea>
														</div>
													</div>


												</div>
											</div>
										</div>
									</div>
								</form>
							</div>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn aman-blue-color"
								ng-click="closeMediatheque()">Annuler</button>
							<button type="button" class="btn aman-green-color"
								ng-click="addMediatheque()">Ajouter</button>
						</div>
					</div>
				</div>
			</div>


			<div class="modal fade" id="myMediathequeEditModal" tabindex="-1"
				role="dialog">
				<div class="modal-dialog" style="width: 40%">
					<div class="modal-content">
						<div class="modal-header aman-blue-color">
							<button type="button" class="bootbox-close-button close"
								data-dismiss="modal" aria-hidden="true">×</button>
							<h4 class="modal-title">
								<th:block th:text="#{commun.mediatheque}"></th:block>
								<span ng-show="mediathequePopupLibelle != null"> «
									{{mediathequePopupLibelle}} » </span>
							</h4>
						</div>
						<div class="modal-body">
							<div class="bootbox-body">

								<form id="mediathequeEditForm" name="mediathequeEditForm"
									method="post" action="#" class="form-horizontal">
									<div class="panel panel-inverse"
										data-sortable-id="ui-widget-10">
										<div class="panel-body">
											<div class="row">
												<div ng-class="'col-md-10'">
													<input type="hidden" ng-model="mediathequeDto.id" />
													<div class="form-group">
														<label class="col-md-4 control-label"> <th:block
																th:text="#{commun.mediatheque.titre}"></th:block> <span
															class="asterik"> * </span>
														</label>
														<div class="col-md-8">
															<input type="text" class="form-control" name="titre"
																ng-model="mediathequeDto.titre" ng-required="true" />
														</div>
													</div>

													<div class="form-group">
														<label class="col-md-4 control-label"> <th:block
																th:text="#{commun.mediatheque.date}"></th:block> <span
															class="asterik"> * </span>
														</label>
														<div class="col-md-8">
															<input type="text" datepicker="datepicker"
																class="form-control" name="dateDocument"
																ng-model="mediathequeDto.dateDocument" ng-required="true" />
														</div>
													</div>

													<div class="form-group">
														<label class="col-md-4 control-label"> <th:block
																th:text="#{commun.mediatheque.description}"></th:block>
														</label>
														<div class="col-md-8">
															<textarea class="form-control noresize"
																name="observation" ng-model="mediathequeDto.observation"
																rows="6"></textarea>
														</div>
													</div>


												</div>
											</div>
										</div>
									</div>
								</form>
							</div>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn aman-blue-color"
								ng-click="closeMediathequeEdit()">Annuler</button>
							<button type="button" class="btn aman-green-color"
								ng-click="addMediathequeEdit()">Enregistrer</button>
						</div>
					</div>
				</div>
			</div>

		</div>
	</th:block>
</body>
</html>