<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
	<title></title>
</head>
<body>
	<th:block th:fragment="form">
		<form id="form" name="form" method="post" action="#"
			class="form-horizontal">
			
			<div class="sidemenu">
				<ul>
					<li><a class="blue" ng-click="associateDemande()"><span>Associer demande</span><i class="fa fa-plus"></i></a></li>
					<li><a class="blue" ng-click=""><span>Localiser</span><i class="fa fa-map-marker"></i></a></li>
				</ul>
			</div>
			
			<div class="panel panel-inverse" data-sortable-id="ui-widget-10">
				<div class="panel-heading">
					<div class="panel-heading-btn">
					</div>
					<h4 class="panel-title semi-bold">
						<th:block th:text="#{investissement.contrat.form}"></th:block>
					</h4>
				</div>
				
				<div class="panel-body">
				
					<fieldset ng-disabled="mode =='read'" >
						<!-- Block 1 -->
						<div class="row">
							<input type="hidden" ng-model="dto.id"  />
							<div ng-class="'col-md-6'">
								<div class="form-group">
									<label class="col-md-5 control-label"> <th:block th:text="#{investissement.contrat.demande}"></th:block>
									</label>
									<div class="col-md-7">
										<select class="form-control" name="demande" ng-model="dto.demandeId"
										ng-options="d.id as d.refParcelle for d in demandes" ng-disabled="true"></select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-md-5 control-label"> <th:block th:text="#{investissement.contrat.numeroContrat}"></th:block>
										<span class="asterik"> * </span>
									</label>
									<div class="col-md-7">
										<input type="text" class="form-control" name="numeroContrat" 
										ng-model="dto.numeroContrat" required="required" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-md-5 control-label"> <th:block th:text="#{investissement.contrat.dateContrat}"></th:block>
										<span class="asterik"> * </span>
									</label>
									<div class="col-md-7">
										<input type="text" class="form-control" name="dateContrat" datepicker="datepicker" 
										ng-model="dto.dateContrat" required="required" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-md-5 control-label"> <th:block th:text="#{investissement.contrat.dateFin}"></th:block>
										<span class="asterik"> * </span>
									</label>
									<div class="col-md-7">
										<input type="text" class="form-control" name="dateFin" datepicker="datepicker" 
										ng-model="dto.dateFin" required="required" />
									</div>
								</div>
							</div>
							<div ng-class="'col-md-6'">
								<div class="form-group">
									<label class="col-md-5 control-label"> <th:block th:text="#{investissement.contrat.superficie}"></th:block>
										<span class="asterik"> * </span>
									</label>
									<div class="col-md-7">
										<input type="text" class="form-control" name="superficie" 
										ng-model="dto.superficie" required="required" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-md-5 control-label"> <th:block th:text="#{investissement.contrat.rfParcelle}"></th:block>
										<span class="asterik"> * </span>
									</label>
									<div class="col-md-7">
										<input type="text" class="form-control" name="rfParcelle" 
										ng-model="dto.rfParcelle" required="required" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-md-5 control-label"> <th:block th:text="#{investissement.contrat.ksar}"></th:block>
										<span class="asterik"> * </span>
									</label>
									<div class="col-md-7">
										<select class="form-control" name="ksar" ng-model="dto.ksarId" required="required"
										ng-options="k.id as k.ksar for k in ksars"></select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-md-5 control-label"> <th:block th:text="#{investissement.contrat.commune}"></th:block>
										<span class="asterik"> * </span>
									</label>
									<div class="col-md-7">
										<select class="form-control" name="commune" ng-model="dto.communeId" required="required"
										ng-options="c.id as c.libelle for c in communes"></select>
									</div>
								</div>
							</div>
						</div>
					</fieldset>			
					
				</div>
			</div>
		</form>
		
		<div class="row">
				<div class="modal fade" id="rapprochementPopup" tabindex="-1"
					role="dialog">
					<div class="modal-dialog modal-lg">
						<div class="modal-content">
							<div class="modal-header aman-blue-color">
								<button type="button" class="bootbox-close-button close"
									data-dismiss="modal" aria-hidden="true">×</button>
								<h4 class="modal-title panel-title">
									<b>Investissement &nbsp;<i class="fa fa-caret-right"></i>&nbsp; Rapprochement &nbsp;<i class="fa fa-caret-right"></i>&nbsp; Liste des demandes</b>
								</h4>
							</div>
							<div class="modal-body">
								<div class="bootbox-body">
									<div class="panel panel-inverse"
										data-sortable-id="ui-widget-10">
										<div class="panel-body">
											<div class="row">
												<div class="col-md-12" ng-controller="demandeTableController"
													th:attr="ng-init='init();'">
													<table id="demandeTable"
														class="table table-striped table-bordered">
														<thead>
															<tr>
																<th>Id</th>
																<th>Date demande</th>
																<th>Superficie</th>
																<th>N° parcelle</th>
															</tr>
														</thead>
													</table>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="modal-footer" style="text-align: center">
								<button type="button" class="btn cancel aman-blue-color"
									ng-click="closeRapprochement()">
									<th:block th:text="#{button.annuler}"></th:block>
								</button>
								<button type="button" class="btn aman-red-color" ng-click="dissociate()">
									Dissocier
								</button>
								<button type="button" class="btn aman-green-color" ng-click="associate()">
									Associer
								</button>
							</div>
						</div>
					</div>
				</div>
			</div>

	</th:block>
</body>
</html>